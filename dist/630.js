/*! For license information please see 630.js.LICENSE.txt */
"use strict";(self.webpackChunkResearchAssistant=self.webpackChunkResearchAssistant||[]).push([[630],{20:(e,n,r)=>{var t=r(769),o=Symbol.for("react.element"),a=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(e,n,r){var t,c={},l=null,d=null;for(t in void 0!==r&&(l=""+r),void 0!==n.key&&(l=""+n.key),void 0!==n.ref&&(d=n.ref),n)a.call(n,t)&&!i.hasOwnProperty(t)&&(c[t]=n[t]);if(e&&e.defaultProps)for(t in n=e.defaultProps)void 0===c[t]&&(c[t]=n[t]);return{$$typeof:o,type:e,key:l,ref:d,props:c,_owner:s.current}}n.jsx=c,n.jsxs=c},46:e=>{e.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2712%27 height=%2712%27 viewBox=%270 0 12 12%27%3E%3Cpath fill=%27%236b7280%27 d=%27M2 4l4 4 4-4%27/%3E%3C/svg%3E"},56:(e,n,r)=>{e.exports=function(e){var n=r.nc;n&&e.setAttribute("nonce",n)}},72:e=>{var n=[];function r(e){for(var r=-1,t=0;t<n.length;t++)if(n[t].identifier===e){r=t;break}return r}function t(e,t){for(var a={},s=[],i=0;i<e.length;i++){var c=e[i],l=t.base?c[0]+t.base:c[0],d=a[l]||0,u="".concat(l," ").concat(d);a[l]=d+1;var p=r(u),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)n[p].references++,n[p].updater(h);else{var m=o(h,t);t.byIndex=i,n.splice(i,0,{identifier:u,updater:m,references:1})}s.push(u)}return s}function o(e,n){var r=n.domAPI(n);return r.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;r.update(e=n)}else r.remove()}}e.exports=function(e,o){var a=t(e=e||[],o=o||{});return function(e){e=e||[];for(var s=0;s<a.length;s++){var i=r(a[s]);n[i].references--}for(var c=t(e,o),l=0;l<a.length;l++){var d=r(a[l]);0===n[d].references&&(n[d].updater(),n.splice(d,1))}a=c}}},113:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},159:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},314:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map(function(n){var r="",t=void 0!==n[5];return n[4]&&(r+="@supports (".concat(n[4],") {")),n[2]&&(r+="@media ".concat(n[2]," {")),t&&(r+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),r+=e(n),t&&(r+="}"),n[2]&&(r+="}"),n[4]&&(r+="}"),r}).join("")},n.i=function(e,r,t,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(t)for(var i=0;i<this.length;i++){var c=this[i][0];null!=c&&(s[c]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);t&&s[d[0]]||(void 0!==a&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=a),r&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=r):d[2]=r),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),n.push(d))}},n}},417:e=>{e.exports=function(e,n){return n||(n={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),n.hash&&(e+=n.hash),/["'() \t\n]|(%20)/.test(e)||n.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},601:e=>{e.exports=function(e){return e[1]}},630:(e,n,r)=>{r.r(n),r.d(n,{default:()=>N,metadata:()=>R,version:()=>T});var t=r(848),o=r(769),a=r.n(o),s=r(72),i=r.n(s),c=r(825),l=r.n(c),d=r(659),u=r.n(d),p=r(56),h=r.n(p),m=r(159),f=r.n(m),g=r(113),v=r.n(g),b=r(926),x={};x.styleTagTransform=v(),x.setAttributes=h(),x.insert=u().bind(null,"head"),x.domAPI=l(),x.insertStyleElement=f(),i()(b.A,x),b.A&&b.A.locals&&b.A.locals;var y=function(){return y=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},y.apply(this,arguments)};const S=function(e){var n=e.error,r=e.onRetry,o=e.onDismiss,s=e.className,i=void 0===s?"":s,c=e.showDetails,l=void 0!==c&&c,d=e.variant,u=void 0===d?"error":d,p=a().useState(!1),h=p[0],m=p[1],f="string"==typeof n?{message:n,timestamp:(new Date).toISOString()}:y({timestamp:(new Date).toISOString()},n),g=function(){switch(u){case"warning":return{backgroundColor:"#fff3cd",borderColor:"#ffeaa7",color:"#856404",icon:"âš ï¸"};case"info":return{backgroundColor:"#d1ecf1",borderColor:"#bee5eb",color:"#0c5460",icon:"â„¹ï¸"};default:return{backgroundColor:"#f8d7da",borderColor:"#f5c6cb",color:"#721c24",icon:"âŒ"}}}();return(0,t.jsx)("div",{className:"error-display ".concat(i),style:{padding:"12px",margin:"8px 0",border:"1px solid ".concat(g.borderColor),borderRadius:"6px",backgroundColor:g.backgroundColor,color:g.color,fontFamily:"Arial, sans-serif"},children:(0,t.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"8px"},children:[(0,t.jsx)("div",{className:"error-icon",style:{fontSize:"16px",flexShrink:0},children:g.icon}),(0,t.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,t.jsx)("p",{className:"error-message",style:{margin:"0 0 8px 0",fontSize:"14px",fontWeight:"500",wordBreak:"break-word"},children:f.message}),o&&(0,t.jsx)("button",{onClick:o,style:{background:"none",border:"none",fontSize:"16px",cursor:"pointer",padding:"0",marginLeft:"8px",color:g.color,opacity:.7},title:"Dismiss error",children:"Ã—"})]}),f.code&&(0,t.jsxs)("div",{style:{fontSize:"12px",opacity:.8,marginBottom:"4px"},children:[(0,t.jsx)("strong",{children:"Error Code:"})," ",f.code]}),f.timestamp&&(0,t.jsx)("div",{style:{fontSize:"11px",opacity:.7,marginBottom:"8px"},children:new Date(f.timestamp).toLocaleString()}),l&&(f.details||f.stack)&&(0,t.jsxs)("div",{style:{marginBottom:"8px"},children:[(0,t.jsx)("button",{onClick:function(){return m(!h)},style:{background:"none",border:"1px solid ".concat(g.color),color:g.color,padding:"2px 6px",fontSize:"10px",borderRadius:"3px",cursor:"pointer",opacity:.8},children:h?"Hide Details":"Show Details"}),h&&(0,t.jsxs)("div",{style:{marginTop:"8px",padding:"8px",backgroundColor:"rgba(0,0,0,0.1)",borderRadius:"4px",fontSize:"11px",fontFamily:"monospace",maxHeight:"200px",overflow:"auto"},children:[f.details&&(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Details:"}),(0,t.jsx)("pre",{style:{margin:"4px 0",whiteSpace:"pre-wrap"},children:JSON.stringify(f.details,null,2)})]}),f.stack&&(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Stack Trace:"}),(0,t.jsx)("pre",{style:{margin:"4px 0",whiteSpace:"pre-wrap"},children:f.stack})]})]})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[r&&(0,t.jsx)("button",{onClick:r,className:"retry-button",style:{padding:"6px 12px",backgroundColor:g.color,color:"white",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer",fontWeight:"500"},children:"Try Again"}),l&&(0,t.jsx)("button",{onClick:function(){var e="Error: ".concat(f.message,"\nCode: ").concat(f.code||"N/A","\nTime: ").concat(f.timestamp,"\nDetails: ").concat(JSON.stringify(f.details,null,2));navigator.clipboard.writeText(e).then(function(){console.log("Error details copied to clipboard")}).catch(function(e){console.warn("Failed to copy error details:",e)})},style:{padding:"6px 12px",backgroundColor:"transparent",color:g.color,border:"1px solid ".concat(g.color),borderRadius:"4px",fontSize:"12px",cursor:"pointer"},title:"Copy error details to clipboard",children:"Copy Details"})]})]})]})})};var w,j=(w=function(e,n){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])},w(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}w(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)});const k=function(e){function n(n){var r=e.call(this,n)||this;return r.resetTimeoutId=null,r.reportError=function(e,n){try{var t={message:e.message,stack:e.stack,componentStack:n.componentStack,timestamp:(new Date).toISOString(),userAgent:navigator.userAgent,url:window.location.href,errorId:r.state.errorId};console.log("ðŸ“Š Error Report (TODO: Send to monitoring service):",t)}catch(e){console.error("ErrorBoundary: Failed to report error:",e)}},r.resetErrorBoundary=function(){console.log("ðŸ”„ ErrorBoundary: Resetting error state"),r.setState({hasError:!1,error:null,errorInfo:null,errorId:null})},r.handleRetry=function(){console.log("ðŸ”„ ErrorBoundary: User initiated retry"),r.resetErrorBoundary()},r.handleAutoRetry=function(e){void 0===e&&(e=5e3),console.log("â° ErrorBoundary: Auto-retry scheduled in ".concat(e,"ms")),r.resetTimeoutId=window.setTimeout(function(){console.log("ðŸ”„ ErrorBoundary: Auto-retry executing"),r.resetErrorBoundary()},e)},r.createErrorInfo=function(){var e=r.state,n=e.error,t=e.errorInfo,o=e.errorId;return{message:(null==n?void 0:n.message)||"An unexpected error occurred",code:(null==n?void 0:n.name)||"COMPONENT_ERROR",details:{stack:null==n?void 0:n.stack,componentStack:null==t?void 0:t.componentStack,errorId:o,timestamp:(new Date).toISOString(),props:r.props.children?"Component tree present":"No component tree"},timestamp:(new Date).toISOString(),stack:null==n?void 0:n.stack}},r.state={hasError:!1,error:null,errorInfo:null,errorId:null},r}return j(n,e),n.getDerivedStateFromError=function(e){return{hasError:!0,error:e,errorId:"error_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))}},n.prototype.componentDidCatch=function(e,n){if(console.group("ðŸš¨ ErrorBoundary: Component Error Caught"),console.error("Error:",e),console.error("Error Info:",n),console.error("Component Stack:",n.componentStack),console.groupEnd(),this.setState({error:e,errorInfo:n,errorId:"error_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))}),this.props.onError)try{this.props.onError(e,n)}catch(e){console.error("ErrorBoundary: Error in custom error handler:",e)}this.reportError(e,n)},n.prototype.componentDidUpdate=function(e){var n=this.props,r=n.resetOnPropsChange,t=n.resetKeys,o=this.state.hasError;o&&t&&e.resetKeys&&t.some(function(n,r){return n!==e.resetKeys[r]})&&this.resetErrorBoundary(),o&&r&&e.children!==this.props.children&&this.resetErrorBoundary()},n.prototype.componentWillUnmount=function(){this.resetTimeoutId&&clearTimeout(this.resetTimeoutId)},n.prototype.render=function(){var e=this,n=this.state.hasError,r=this.props,o=r.children,a=r.fallback;if(n){if(a)return a;var s=this.createErrorInfo();return(0,t.jsxs)("div",{style:{padding:"20px",margin:"10px",border:"2px solid #ff6b6b",borderRadius:"8px",backgroundColor:"#fff5f5",fontFamily:"Arial, sans-serif"},children:[(0,t.jsx)("div",{style:{display:"flex",alignItems:"center",marginBottom:"16px",fontSize:"18px",fontWeight:"bold",color:"#d63031"},children:"ðŸš¨ Component Error"}),(0,t.jsx)(S,{error:s,onRetry:this.handleRetry,showDetails:!0,variant:"error"}),(0,t.jsxs)("div",{style:{marginTop:"16px",padding:"12px",backgroundColor:"#f8f9fa",borderRadius:"6px",fontSize:"12px",color:"#6c757d"},children:[(0,t.jsx)("div",{style:{marginBottom:"8px"},children:(0,t.jsx)("strong",{children:"ðŸ”§ Troubleshooting Tips:"})}),(0,t.jsxs)("ul",{style:{margin:"0",paddingLeft:"20px"},children:[(0,t.jsx)("li",{children:"Check the browser console for additional error details"}),(0,t.jsx)("li",{children:"Verify that all required props are provided correctly"}),(0,t.jsx)("li",{children:"Ensure all dependencies are properly imported"}),(0,t.jsx)("li",{children:"Check for any recent changes that might have caused this error"}),(0,t.jsx)("li",{children:"Try refreshing the page if this is a temporary issue"})]})]}),(0,t.jsxs)("div",{style:{marginTop:"12px",display:"flex",gap:"8px",flexWrap:"wrap"},children:[(0,t.jsx)("button",{onClick:function(){return e.handleAutoRetry(1e3)},style:{padding:"8px 16px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer"},children:"Auto-Retry in 1s"}),(0,t.jsx)("button",{onClick:function(){return window.location.reload()},style:{padding:"8px 16px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer"},children:"Reload Page"})]})]})}return o},n}(o.Component);var A=function(){var e=function(n,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])},e(n,r)};return function(n,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function t(){this.constructor=n}e(n,r),n.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}}(),C=function(e,n,r,t){return new(r||(r=Promise))(function(o,a){function s(e){try{c(t.next(e))}catch(e){a(e)}}function i(e){try{c(t.throw(e))}catch(e){a(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof r?n:new r(function(e){e(n)})).then(s,i)}c((t=t.apply(e,n||[])).next())})},_=function(e,n){var r,t,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=i(0),s.throw=i(1),s.return=i(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(i){return function(c){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,i[0]&&(a=0)),a;)try{if(r=1,t&&(o=2&i[0]?t.return:i[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,i[1])).done)return o;switch(t=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,t=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],t=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},I=function(e,n,r){if(r||2===arguments.length)for(var t,o=0,a=n.length;o<a;o++)!t&&o in n||(t||(t=Array.prototype.slice.call(n,0,o)),t[o]=n[o]);return e.concat(t||Array.prototype.slice.call(n))},E=function(e){function n(n){var r=e.call(this,n)||this;return r.themeChangeListener=null,r.currentUserId=null,r.handleModelChange=function(e){var n=e.target.value,t=r.state.models.find(function(e){return"".concat(e.provider,"_").concat(e.serverId,"_").concat(e.name)===n});r.setState({selectedModel:t||null})},r.handleArticleChange=function(e){r.setState({articleText:e.target.value})},r.handleProjectChange=function(e){r.setState({selectedProject:e.target.value})},r.handleAnalyze=function(){return C(r,void 0,void 0,function(){var e,n,r,t,o,a,s,i,c,l,d,u,p,h,m,f,g,v,b;return _(this,function(x){switch(x.label){case 0:if(e=this.state,n=e.articleText,r=e.selectedProject,t=this.props,o=t.services,t.config,!n.trim())return this.setState({error:"Please paste article text to analyze"}),[2];if(!o.api)return this.setState({error:"API service not available"}),[2];this.setState({isLoading:!0,error:"",analysisResult:null}),x.label=1;case 1:return x.trys.push([1,5,,6]),a=null,r?[4,this.getProjectContext(r)]:[3,3];case 2:a=x.sent(),x.label=3;case 3:if(s=this.buildAnalysisPrompt(n,a),!(i=this.state.selectedModel))throw new Error("No AI model selected. Please select a model from the dropdown.");return[4,o.api.post("/api/v1/ai/providers/chat",{provider:i.provider,settings_id:i.providerId,server_id:i.serverId,model:i.name,messages:[{role:"user",content:s}],user_id:this.currentUserId||"current",stream:!1,params:{temperature:.3,max_tokens:2e3}})];case 4:if(c=x.sent(),!(l=(null===(m=null===(h=null===(p=null==c?void 0:c.choices)||void 0===p?void 0:p[0])||void 0===h?void 0:h.message)||void 0===m?void 0:m.content)||(null===(b=null===(v=null===(g=null===(f=null==c?void 0:c.data)||void 0===f?void 0:f.choices)||void 0===g?void 0:g[0])||void 0===v?void 0:v.message)||void 0===b?void 0:b.content)))throw new Error("No response content from LLM");if(!(d=this.parseAnalysisResponse(l)))throw new Error("Failed to parse LLM response");return this.setState({isLoading:!1,analysisResult:d}),[3,6];case 5:return u=x.sent(),console.error("Analysis failed:",u),this.setState({isLoading:!1,error:"Analysis failed: ".concat(u.message||"Unknown error",". Check that your AI provider is configured in BrainDrive.")}),[3,6];case 6:return[2]}})})},r.handleAction=function(e){return C(r,void 0,void 0,function(){var n,r,t,o,a,s,i,c,l,d=this;return _(this,function(u){switch(u.label){case 0:if(n=this.state.selectedProject,r=this.props.services,"dismiss"===e)return this.setState({articleText:"",analysisResult:null,chatMessages:[],saveSuccess:""}),[2];if(!n)return this.setState({error:"Please select a project to save findings to."}),[2];if(!r.api)return this.setState({error:"API service not available"}),[2];this.setState({isSaving:!0,error:"",saveSuccess:""}),u.label=1;case 1:return u.trys.push([1,3,,4]),t="integrate"===e?"research-findings.md":"ideas.md",o=this.formatSaveContent(e),[4,r.api.post("/api/v1/plugin-api/braindrive-library/library/append-file",{project_slug:n,filename:t,content:o})];case 2:if(a=u.sent(),!(null!==(c=null==a?void 0:a.success)&&void 0!==c?c:null===(l=null==a?void 0:a.data)||void 0===l?void 0:l.success))throw new Error("Save operation returned unsuccessful");return s="integrate"===e?"research-findings.md":"ideas.md",this.setState({isSaving:!1,saveSuccess:"Saved to ".concat(n,"/").concat(s),articleText:"",analysisResult:null,chatMessages:[]}),setTimeout(function(){d.setState({saveSuccess:""})},5e3),[3,4];case 3:return i=u.sent(),console.error("Save failed:",i),this.setState({isSaving:!1,error:"Failed to save: ".concat(i.message||"Unknown error")}),[3,4];case 4:return[2]}})})},r.handleChatSubmit=function(e){return C(r,void 0,void 0,function(){var n,r,t,o,a,s,i,c,l,d,u,p,h,m,f,g,v,b,x;return _(this,function(y){switch(y.label){case 0:if(e.preventDefault(),n=this.state,r=n.chatInput,t=n.chatMessages,o=n.selectedModel,a=this.props.services,!r.trim())return[2];if(!a.api)return this.setState({error:"API service not available"}),[2];if(!o)return this.setState({error:"Please select an AI model"}),[2];s={role:"user",content:r},i=I(I([],t,!0),[s],!1),this.setState({chatMessages:i,chatInput:"",isChatLoading:!0}),y.label=1;case 1:return y.trys.push([1,3,,4]),c=this.buildChatSystemPrompt(),l=I([{role:"system",content:c}],i.map(function(e){return{role:e.role,content:e.content}}),!0),[4,a.api.post("/api/v1/ai/providers/chat",{provider:o.provider,settings_id:o.providerId,server_id:o.serverId,model:o.name,messages:l,user_id:this.currentUserId||"current",stream:!1,params:{temperature:.5,max_tokens:500}})];case 2:return d=y.sent(),u=(null===(f=null===(m=null===(h=null==d?void 0:d.choices)||void 0===h?void 0:h[0])||void 0===m?void 0:m.message)||void 0===f?void 0:f.content)||(null===(x=null===(b=null===(v=null===(g=null==d?void 0:d.data)||void 0===g?void 0:g.choices)||void 0===v?void 0:v[0])||void 0===b?void 0:b.message)||void 0===x?void 0:x.content)||"Sorry, I could not generate a response.",this.setState({chatMessages:I(I([],i,!0),[{role:"assistant",content:u}],!1),isChatLoading:!1}),[3,4];case 3:return p=y.sent(),console.error("Chat failed:",p),this.setState({chatMessages:I(I([],i,!0),[{role:"assistant",content:"Error: ".concat(p.message||"Failed to get response")}],!1),isChatLoading:!1}),[3,4];case 4:return[2]}})})},r.state={isLoading:!1,error:"",currentTheme:"light",isInitializing:!1,articleText:"",selectedProject:"",projects:[],models:[],selectedModel:null,isLoadingModels:!1,analysisResult:null,chatMessages:[],chatInput:"",isChatLoading:!1,saveSuccess:"",isSaving:!1},r.currentUserId=null,r}return A(n,e),n.prototype.componentDidMount=function(){return C(this,void 0,void 0,function(){return _(this,function(e){switch(e.label){case 0:return[4,this.initializeServices()];case 1:return e.sent(),[4,this.loadProjects()];case 2:return e.sent(),[4,this.loadModels()];case 3:return e.sent(),[2]}})})},n.prototype.componentWillUnmount=function(){this.cleanupServices()},n.prototype.initializeServices=function(){return C(this,void 0,void 0,function(){var e,n,r,t,o=this;return _(this,function(a){switch(a.label){case 0:if((e=this.props.services).theme&&(n=e.theme.getCurrentTheme(),this.setState({currentTheme:n}),this.themeChangeListener=function(e){o.setState({currentTheme:e})},e.theme.addThemeChangeListener(this.themeChangeListener)),!e.api)return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,e.api.get("/api/v1/auth/me")];case 2:return(r=a.sent())&&r.id&&(this.currentUserId=r.id),[3,4];case 3:return t=a.sent(),console.warn("Research Assistant: Could not get current user ID:",t),[3,4];case 4:return[2]}})})},n.prototype.cleanupServices=function(){var e=this.props.services;e.theme&&this.themeChangeListener&&e.theme.removeThemeChangeListener(this.themeChangeListener)},n.prototype.loadProjects=function(){return C(this,void 0,void 0,function(){var e,n,r,t;return _(this,function(o){switch(o.label){case 0:if(!(e=this.props.services).api)return console.warn("Research Assistant: API service not available, using fallback projects"),this.setState({projects:[{slug:"no-api",name:"(API not available)"}]}),[2];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,e.api.get("/api/v1/plugin-api/braindrive-library/library/projects?lifecycle=active")];case 2:return n=o.sent(),0===(r=Array.isArray(n)?n:n.projects||n.data||[]).length?(this.setState({projects:[{slug:"",name:"(No projects found in Library)"}]}),[2]):(this.setState({projects:r.map(function(e){return{slug:e.slug,name:e.lifecycle?"".concat(e.name," (").concat(e.lifecycle,")"):e.name,path:e.path,has_agent_md:e.has_agent_md,has_spec_md:e.has_spec,has_build_plan:e.has_build_plan,status:e.lifecycle}})}),[3,4]);case 3:return t=o.sent(),console.error("Research Assistant: Failed to load projects:",t),this.setState({projects:[{slug:"",name:"(Error loading projects)"}],error:"Failed to load projects from Library"}),[3,4];case 4:return[2]}})})},n.prototype.loadModels=function(){return C(this,void 0,void 0,function(){var e,n,r,t,o,a;return _(this,function(s){switch(s.label){case 0:if(!(e=this.props.services).api)return console.warn("Research Assistant: API service not available for loading models"),[2];this.setState({isLoadingModels:!0}),n={ollama:"ollama_servers_settings",openai:"openai_api_keys_settings",openrouter:"openrouter_api_keys_settings",claude:"claude_api_keys_settings",groq:"groq_api_keys_settings"},s.label=1;case 1:return s.trys.push([1,3,,4]),[4,e.api.get("/api/v1/ai/providers/all-models")];case 2:return r=s.sent(),t=r&&r.models||r&&r.data&&r.data.models||(Array.isArray(r)?r:[]),o=Array.isArray(t)?t.map(function(e){var r=e.provider||"ollama",t=n[r]||r,o=e.server_id||e.serverId||"unknown",a=e.server_name||e.serverName||"Unknown Server";return{name:e.name||e.id||"",provider:r,providerId:t,serverName:a,serverId:o}}):[],this.setState({models:o,selectedModel:o.length>0?o[0]:null,isLoadingModels:!1}),[3,4];case 3:return a=s.sent(),console.error("Research Assistant: Failed to load models:",a),this.setState({models:[],selectedModel:null,isLoadingModels:!1}),[3,4];case 4:return[2]}})})},n.prototype.getProjectContext=function(e){return C(this,void 0,void 0,function(){var n,r,t,o,a,s,i,c;return _(this,function(l){switch(l.label){case 0:if(!(n=this.props.services).api||!e)return[2,null];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.api.get("/api/v1/plugin-api/braindrive-library/library/project/".concat(e,"/context?files=AGENT.md,spec.md,build-plan.md,research-findings.md"))];case 2:return r=l.sent(),t=(null==r?void 0:r.files)||{},[2,{project_slug:(null==r?void 0:r.project)||e,agent_md:(null===(a=t["AGENT.md"])||void 0===a?void 0:a.content)||null,spec_md:(null===(s=t["spec.md"])||void 0===s?void 0:s.content)||null,build_plan_md:(null===(i=t["build-plan.md"])||void 0===i?void 0:i.content)||null,research_findings_md:(null===(c=t["research-findings.md"])||void 0===c?void 0:c.content)||null}];case 3:return o=l.sent(),console.error("Failed to load project context:",o),[2,null];case 4:return[2]}})})},n.prototype.buildAnalysisPrompt=function(e,n){var r="";return n&&(r="\n## Project Context\n\n**Project:** ".concat(n.project_slug,"\n\n### Project Overview (from AGENT.md):\n").concat(n.agent_md||"No AGENT.md found","\n\n### Project Specification (from spec.md):\n").concat(n.spec_md?n.spec_md.substring(0,2e3)+"...":"No spec.md found","\n\n### Existing Research (from research-findings.md):\n").concat(n.research_findings_md?n.research_findings_md.substring(0,1e3)+"...":"No existing research findings","\n")),"You are a research assistant helping to triage articles and resources for relevance to a project.\n\n".concat(r,"\n\n## Article to Analyze\n\n").concat(e.substring(0,15e3),'\n\n## Your Task\n\nAnalyze this article and determine its relevance to the project (if provided) or general usefulness.\n\nRespond in the following JSON format ONLY (no other text):\n{\n  "recommendation": "integrate" | "save" | "skip",\n  "confidence": 0.0-1.0,\n  "insights": ["insight 1", "insight 2", "insight 3"],\n  "explanation": "2-3 sentence explanation of your recommendation"\n}\n\n**Recommendation meanings:**\n- "integrate": Highly relevant, should be integrated into the project now\n- "save": Potentially useful, save for future reference\n- "skip": Not relevant to this project\n\nBe concise but specific in your insights.')},n.prototype.parseAnalysisResponse=function(e){try{var n=e.match(/\{[\s\S]*\}/);if(!n)return console.error("No JSON found in LLM response"),null;var r=JSON.parse(n[0]);if(!r.recommendation||!r.insights||!r.explanation)return console.error("Missing required fields in LLM response"),null;var t=r.recommendation.toLowerCase();return{recommendation:["integrate","save","skip"].includes(t)?t:"save",confidence:Math.min(1,Math.max(0,r.confidence||.5)),insights:Array.isArray(r.insights)?r.insights.slice(0,5):[r.insights],explanation:String(r.explanation)}}catch(e){return console.error("Failed to parse LLM response:",e),null}},n.prototype.formatSaveContent=function(e){var n=this.state,r=n.articleText,t=n.analysisResult,o=(n.selectedProject,(new Date).toISOString().split("T")[0]),a=(new Date).toLocaleTimeString(),s=r.split("\n")[0].trim(),i=s.length>80?s.substring(0,77)+"...":s,c="\n\n## ".concat(o," ").concat(a," - ").concat(i||"Untitled Research","\n\n");t&&(c+="**Recommendation:** ".concat(t.recommendation," (").concat(Math.round(100*t.confidence),"% confidence)\n\n"),c+="**Key Insights:**\n",t.insights.forEach(function(e){c+="- ".concat(e,"\n")}),c+="\n",c+="**Analysis:** ".concat(t.explanation,"\n\n"));var l=r.length>500?r.substring(0,500)+"...":r;return c+="<details>\n<summary>Article Excerpt</summary>\n\n".concat(l,"\n\n</details>\n"),c+="\n---\n"},n.prototype.buildChatSystemPrompt=function(){var e=this.state,n=e.articleText,r=e.analysisResult,t=e.selectedProject,o="You are a helpful research assistant. The user has been analyzing an article and may have questions about it.\n\n## Article Being Analyzed\n\n".concat(n.substring(0,1e4),"\n\n");return r&&(o+="## Previous Analysis\n\n**Recommendation:** ".concat(r.recommendation,"\n**Confidence:** ").concat(Math.round(100*r.confidence),"%\n**Insights:**\n").concat(r.insights.map(function(e){return"- ".concat(e)}).join("\n"),"\n**Explanation:** ").concat(r.explanation,"\n\n")),t&&(o+="**Project Context:** ".concat(t,"\n\n")),o+"Answer the user's questions about this article concisely and helpfully. Reference specific parts of the article when relevant."},n.prototype.renderArticleInput=function(){var e=this.state.articleText,n=e.length;return(0,t.jsxs)("div",{className:"ra-section ra-article-input",children:[(0,t.jsx)("h4",{children:"Article Text"}),(0,t.jsx)("textarea",{value:e,onChange:this.handleArticleChange,placeholder:"Paste article text here...",rows:10}),(0,t.jsxs)("div",{className:"ra-char-count",children:[n.toLocaleString()," characters",n>5e4&&(0,t.jsx)("span",{className:"ra-warning",children:" (large article - may be truncated)"})]})]})},n.prototype.renderProjectSelector=function(){var e=this.state,n=e.selectedProject,r=e.projects;return(0,t.jsxs)("div",{className:"ra-section ra-project-selector",children:[(0,t.jsx)("h4",{children:"Project Context (Optional)"}),(0,t.jsxs)("select",{value:n,onChange:this.handleProjectChange,children:[(0,t.jsx)("option",{value:"",children:"-- No project selected --"}),r.map(function(e){return(0,t.jsx)("option",{value:e.slug,children:e.name},e.slug)})]})]})},n.prototype.renderModelSelector=function(){var e=this.state,n=e.models,r=e.selectedModel,o=e.isLoadingModels,a=r?"".concat(r.provider,"_").concat(r.serverId,"_").concat(r.name):"";return(0,t.jsxs)("div",{className:"ra-section ra-model-selector",children:[(0,t.jsx)("h4",{children:"AI Model"}),o?(0,t.jsx)("select",{disabled:!0,children:(0,t.jsx)("option",{children:"Loading models..."})}):0===n.length?(0,t.jsx)("select",{disabled:!0,children:(0,t.jsx)("option",{children:"No models available"})}):(0,t.jsx)("select",{value:a,onChange:this.handleModelChange,children:n.map(function(e){var n="".concat(e.provider,"_").concat(e.serverId,"_").concat(e.name),r="".concat(e.name," (").concat(e.serverName,")");return(0,t.jsx)("option",{value:n,children:r},n)})})]})},n.prototype.renderAnalyzeButton=function(){var e=this.state,n=e.isLoading,r=e.articleText;return(0,t.jsx)("div",{className:"ra-section ra-analyze",children:(0,t.jsx)("button",{onClick:this.handleAnalyze,disabled:n||!r.trim(),className:"ra-button ra-button-primary",children:n?"Analyzing...":"Analyze Article"})})},n.prototype.renderAnalysisResult=function(){var e=this,n=this.state.analysisResult;return n?(0,t.jsxs)("div",{className:"ra-section ra-analysis-result",children:[(0,t.jsx)("h4",{children:"Analysis Result"}),(0,t.jsxs)("div",{className:"ra-recommendation ".concat({integrate:"ra-rec-integrate",save:"ra-rec-save",skip:"ra-rec-skip"}[n.recommendation]),children:[(0,t.jsx)("span",{className:"ra-rec-label",children:"Recommendation:"}),(0,t.jsx)("span",{className:"ra-rec-value",children:{integrate:"Integrate Now",save:"Save for Future",skip:"Not Relevant"}[n.recommendation]}),(0,t.jsxs)("span",{className:"ra-rec-confidence",children:["(",Math.round(100*n.confidence),"% confidence)"]})]}),(0,t.jsxs)("div",{className:"ra-insights",children:[(0,t.jsx)("h5",{children:"Key Insights:"}),(0,t.jsx)("ul",{children:n.insights.map(function(e,n){return(0,t.jsx)("li",{children:e},n)})})]}),(0,t.jsxs)("div",{className:"ra-explanation",children:[(0,t.jsx)("h5",{children:"Explanation:"}),(0,t.jsx)("p",{children:n.explanation})]}),(0,t.jsxs)("div",{className:"ra-actions",children:[(0,t.jsx)("button",{className:"ra-button ra-button-success",onClick:function(){return e.handleAction("integrate")},disabled:this.state.isSaving,children:this.state.isSaving?"Saving...":"Integrate Now"}),(0,t.jsx)("button",{className:"ra-button ra-button-secondary",onClick:function(){return e.handleAction("save")},disabled:this.state.isSaving,children:this.state.isSaving?"Saving...":"Save for Future"}),(0,t.jsx)("button",{className:"ra-button ra-button-muted",onClick:function(){return e.handleAction("dismiss")},disabled:this.state.isSaving,children:"Dismiss"})]})]}):null},n.prototype.renderChat=function(){var e=this,n=this.state,r=n.analysisResult,o=n.chatMessages,a=n.chatInput,s=n.isChatLoading;return r?(0,t.jsxs)("div",{className:"ra-section ra-chat",children:[(0,t.jsx)("h4",{children:"Ask Questions About This Article"}),(0,t.jsxs)("div",{className:"ra-chat-messages",children:[0===o.length&&!s&&(0,t.jsx)("p",{className:"ra-chat-empty",children:"Ask a question about the article..."}),o.map(function(e,n){return(0,t.jsxs)("div",{className:"ra-chat-message ra-chat-".concat(e.role),children:[(0,t.jsxs)("span",{className:"ra-chat-role",children:["user"===e.role?"You":"Assistant",":"]}),(0,t.jsx)("span",{className:"ra-chat-content",children:e.content})]},n)}),s&&(0,t.jsxs)("div",{className:"ra-chat-message ra-chat-assistant",children:[(0,t.jsx)("span",{className:"ra-chat-role",children:"Assistant:"}),(0,t.jsx)("span",{className:"ra-chat-content ra-chat-loading",children:"Thinking..."})]})]}),(0,t.jsxs)("div",{className:"ra-chat-form",children:[(0,t.jsx)("textarea",{className:"ra-chat-input",value:a,onChange:function(n){return e.setState({chatInput:n.target.value})},placeholder:"Type your question...",disabled:s,rows:2,onKeyDown:function(n){"Enter"!==n.key||n.shiftKey||(n.preventDefault(),e.handleChatSubmit(n))}}),(0,t.jsx)("button",{type:"button",className:"ra-button ra-button-primary",disabled:s||!a.trim(),onClick:function(n){return e.handleChatSubmit(n)},children:s?"...":"Send"})]})]}):null},n.prototype.render=function(){var e=this,n=this.state,r=n.currentTheme,o=n.error;return(0,t.jsx)(k,{children:(0,t.jsxs)("div",{className:"research-assistant ".concat("dark"===r?"dark-theme":""),children:[(0,t.jsxs)("div",{className:"ra-header",children:[(0,t.jsx)("h3",{children:"Research Assistant"}),(0,t.jsx)("p",{children:"Analyze articles for relevance to your projects"})]}),o&&(0,t.jsxs)("div",{className:"ra-error",children:[o,(0,t.jsx)("button",{onClick:function(){return e.setState({error:""})},children:"Dismiss"})]}),this.state.saveSuccess&&(0,t.jsxs)("div",{className:"ra-success",children:[this.state.saveSuccess,(0,t.jsx)("button",{onClick:function(){return e.setState({saveSuccess:""})},children:"Dismiss"})]}),this.renderArticleInput(),this.renderProjectSelector(),this.renderModelSelector(),this.renderAnalyzeButton(),this.renderAnalysisResult(),this.renderChat()]})})},n}(a().Component);const N=E;var T="1.0.0",R={name:"ResearchAssistant",description:"Triage articles and resources against project context",version:"1.0.0",author:"BrainDrive"}},659:e=>{var n={};e.exports=function(e,r){var t=function(e){if(void 0===n[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}n[e]=r}return n[e]}(e);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");t.appendChild(r)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(r){!function(e,n,r){var t="";r.supports&&(t+="@supports (".concat(r.supports,") {")),r.media&&(t+="@media ".concat(r.media," {"));var o=void 0!==r.layer;o&&(t+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),t+=r.css,o&&(t+="}"),r.media&&(t+="}"),r.supports&&(t+="}");var a=r.sourceMap;a&&"undefined"!=typeof btoa&&(t+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),n.styleTagTransform(t,e,n.options)}(n,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},848:(e,n,r)=>{e.exports=r(20)},926:(e,n,r)=>{r.d(n,{A:()=>p});var t=r(601),o=r.n(t),a=r(314),s=r.n(a),i=r(417),c=r.n(i),l=new URL(r(46),r.b),d=s()(o()),u=c()(l);d.push([e.id,`/* Research Assistant Plugin Styles\n * Following BrainDrive Design System\n */\n\n/* ============================================\n   CSS VARIABLES - Light Theme (Default)\n   ============================================ */\n.research-assistant {\n  --bg-color: #ffffff;\n  --paper-bg: #ffffff;\n  --text-color: #333333;\n  --text-secondary: #6b7280;\n  --border-color: rgba(0, 0, 0, 0.12);\n  --hover-color: rgba(0, 0, 0, 0.04);\n  --input-bg: #ffffff;\n\n  /* Primary */\n  --button-primary-bg: #2196f3;\n  --button-primary-text: #ffffff;\n  --button-primary-hover: #1976d2;\n\n  /* Secondary */\n  --button-secondary-bg: #e0e0e0;\n  --button-secondary-text: #333333;\n  --button-secondary-hover: #d0d0d0;\n\n  /* Success */\n  --status-success-bg: rgba(76, 175, 80, 0.12);\n  --status-success-border: #4caf50;\n  --status-success-text: #2e7d32;\n\n  /* Warning */\n  --status-warning-bg: rgba(255, 152, 0, 0.12);\n  --status-warning-border: #ff9800;\n  --status-warning-text: #e65100;\n\n  /* Error */\n  --status-error-bg: rgba(244, 67, 54, 0.12);\n  --status-error-border: #f44336;\n  --status-error-text: #c62828;\n\n  /* Muted */\n  --button-muted-bg: #f5f5f5;\n  --button-muted-text: #666666;\n  --button-muted-hover: #eeeeee;\n\n  /* Shadows */\n  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);\n  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);\n}\n\n/* ============================================\n   CSS VARIABLES - Dark Theme\n   ============================================ */\n.research-assistant.dark-theme {\n  --bg-color: #121a28;\n  --paper-bg: #1a2332;\n  --text-color: #e0e0e0;\n  --text-secondary: #94a3b8;\n  --border-color: rgba(255, 255, 255, 0.12);\n  --hover-color: rgba(255, 255, 255, 0.04);\n  --input-bg: #1e293b;\n\n  /* Primary */\n  --button-primary-bg: #2196f3;\n  --button-primary-text: #ffffff;\n  --button-primary-hover: #42a5f5;\n\n  /* Secondary */\n  --button-secondary-bg: #2c3a4f;\n  --button-secondary-text: #ffffff;\n  --button-secondary-hover: #3d4f6a;\n\n  /* Success */\n  --status-success-bg: rgba(76, 175, 80, 0.15);\n  --status-success-border: #4caf50;\n  --status-success-text: #81c784;\n\n  /* Warning */\n  --status-warning-bg: rgba(255, 152, 0, 0.15);\n  --status-warning-border: #ff9800;\n  --status-warning-text: #ffb74d;\n\n  /* Error */\n  --status-error-bg: rgba(244, 67, 54, 0.15);\n  --status-error-border: #f44336;\n  --status-error-text: #ef9a9a;\n\n  /* Muted */\n  --button-muted-bg: #2c3a4f;\n  --button-muted-text: #94a3b8;\n  --button-muted-hover: #3d4f6a;\n\n  /* Shadows */\n  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.3);\n  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.4);\n  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.5);\n}\n\n/* ============================================\n   BASE CONTAINER\n   ============================================ */\n.research-assistant {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;\n  font-size: 0.875rem;\n  line-height: 1.5;\n  padding: 1rem;\n  background-color: var(--bg-color);\n  color: var(--text-color);\n  border-radius: 0.5rem;\n  max-width: 800px;\n}\n\n/* ============================================\n   HEADER\n   ============================================ */\n.ra-header {\n  margin-bottom: 1.25rem;\n  padding-bottom: 1rem;\n  border-bottom: 1px solid var(--border-color);\n}\n\n.ra-header h3 {\n  margin: 0 0 0.25rem 0;\n  font-size: 1.25rem;\n  font-weight: 600;\n  color: var(--text-color);\n}\n\n.ra-header p {\n  margin: 0;\n  color: var(--text-secondary);\n  font-size: 0.875rem;\n}\n\n/* ============================================\n   SECTIONS\n   ============================================ */\n.ra-section {\n  margin-bottom: 1.25rem;\n}\n\n.ra-section h4 {\n  margin: 0 0 0.5rem 0;\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: var(--text-color);\n}\n\n.ra-section h5 {\n  margin: 0.75rem 0 0.5rem 0;\n  font-size: 0.8125rem;\n  font-weight: 600;\n  color: var(--text-color);\n}\n\n/* ============================================\n   FORM CONTROLS - Textarea\n   ============================================ */\n.ra-article-input textarea {\n  width: 100%;\n  min-height: 180px;\n  padding: 0.75rem;\n  border: 1px solid var(--border-color);\n  border-radius: 0.375rem;\n  font-family: inherit;\n  font-size: 0.875rem;\n  line-height: 1.5;\n  resize: vertical;\n  background-color: var(--input-bg);\n  color: var(--text-color);\n  box-sizing: border-box;\n  transition: border-color 0.2s ease, box-shadow 0.2s ease;\n}\n\n.ra-article-input textarea:focus {\n  outline: none;\n  border-color: var(--button-primary-bg);\n  box-shadow: 0 0 0 2px rgba(33, 150, 243, 0.1);\n}\n\n.ra-article-input textarea::placeholder {\n  color: var(--text-secondary);\n}\n\n.ra-char-count {\n  margin-top: 0.375rem;\n  font-size: 0.75rem;\n  color: var(--text-secondary);\n}\n\n.ra-warning {\n  color: var(--status-warning-text);\n}\n\n/* ============================================\n   FORM CONTROLS - Select\n   ============================================ */\n.ra-project-selector select,\n.ra-model-selector select {\n  width: 100%;\n  padding: 0.625rem 0.75rem;\n  border: 1px solid var(--border-color);\n  border-radius: 0.375rem;\n  font-family: inherit;\n  font-size: 0.875rem;\n  background-color: var(--input-bg);\n  color: var(--text-color);\n  cursor: pointer;\n  transition: border-color 0.2s ease, box-shadow 0.2s ease;\n  appearance: none;\n  background-image: url(${u});\n  background-repeat: no-repeat;\n  background-position: right 0.75rem center;\n  padding-right: 2rem;\n}\n\n.ra-project-selector select:focus,\n.ra-model-selector select:focus {\n  outline: none;\n  border-color: var(--button-primary-bg);\n  box-shadow: 0 0 0 2px rgba(33, 150, 243, 0.1);\n}\n\n.ra-project-selector select:disabled,\n.ra-model-selector select:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n/* ============================================\n   BUTTONS\n   ============================================ */\n.ra-button {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0.5rem 1rem;\n  border: none;\n  border-radius: 0.375rem;\n  font-family: inherit;\n  font-size: 0.875rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n\n.ra-button:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.ra-button:not(:disabled):hover {\n  transform: translateY(-1px);\n}\n\n.ra-button:not(:disabled):active {\n  transform: translateY(0);\n}\n\n/* Primary Button */\n.ra-button-primary {\n  background-color: var(--button-primary-bg);\n  color: var(--button-primary-text);\n  box-shadow: var(--shadow-sm);\n}\n\n.ra-button-primary:not(:disabled):hover {\n  background-color: var(--button-primary-hover);\n  box-shadow: var(--shadow-md);\n}\n\n/* Success Button */\n.ra-button-success {\n  background-color: #4caf50;\n  color: #ffffff;\n  box-shadow: var(--shadow-sm);\n}\n\n.ra-button-success:not(:disabled):hover {\n  background-color: #43a047;\n  box-shadow: var(--shadow-md);\n}\n\n/* Secondary Button */\n.ra-button-secondary {\n  background-color: var(--button-secondary-bg);\n  color: var(--button-secondary-text);\n  box-shadow: var(--shadow-sm);\n}\n\n.ra-button-secondary:not(:disabled):hover {\n  background-color: var(--button-secondary-hover);\n  box-shadow: var(--shadow-md);\n}\n\n/* Muted Button */\n.ra-button-muted {\n  background-color: var(--button-muted-bg);\n  color: var(--button-muted-text);\n}\n\n.ra-button-muted:not(:disabled):hover {\n  background-color: var(--button-muted-hover);\n}\n\n/* ============================================\n   ANALYSIS RESULT\n   ============================================ */\n.ra-recommendation {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.75rem 1rem;\n  border-radius: 0.375rem;\n  margin-bottom: 1rem;\n  font-size: 0.875rem;\n}\n\n.ra-rec-integrate {\n  background-color: var(--status-success-bg);\n  border: 1px solid var(--status-success-border);\n  color: var(--status-success-text);\n}\n\n.ra-rec-save {\n  background-color: var(--status-warning-bg);\n  border: 1px solid var(--status-warning-border);\n  color: var(--status-warning-text);\n}\n\n.ra-rec-skip {\n  background-color: var(--status-error-bg);\n  border: 1px solid var(--status-error-border);\n  color: var(--status-error-text);\n}\n\n.ra-rec-label {\n  font-weight: 500;\n}\n\n.ra-rec-value {\n  font-weight: 600;\n}\n\n.ra-rec-confidence {\n  color: var(--text-secondary);\n  font-size: 0.8125rem;\n  margin-left: auto;\n}\n\n/* Insights */\n.ra-insights ul {\n  margin: 0;\n  padding-left: 1.25rem;\n}\n\n.ra-insights li {\n  margin-bottom: 0.375rem;\n  line-height: 1.5;\n  color: var(--text-color);\n}\n\n/* Explanation */\n.ra-explanation p {\n  margin: 0;\n  line-height: 1.6;\n  color: var(--text-secondary);\n}\n\n/* Actions */\n.ra-actions {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.625rem;\n  margin-top: 1rem;\n}\n\n/* ============================================\n   CHAT SECTION\n   ============================================ */\n.ra-chat-messages {\n  background-color: var(--hover-color);\n  border: 1px solid var(--border-color);\n  border-radius: 0.375rem;\n  padding: 0.75rem;\n  min-height: 80px;\n  max-height: 250px;\n  overflow-y: auto;\n  margin-bottom: 0.75rem;\n}\n\n.ra-chat-empty {\n  color: var(--text-secondary);\n  font-style: italic;\n  margin: 0;\n  font-size: 0.875rem;\n}\n\n.ra-chat-message {\n  margin-bottom: 0.75rem;\n  line-height: 1.5;\n}\n\n.ra-chat-message:last-child {\n  margin-bottom: 0;\n}\n\n.ra-chat-role {\n  font-weight: 600;\n  margin-right: 0.5rem;\n}\n\n.ra-chat-user .ra-chat-role {\n  color: var(--button-primary-bg);\n}\n\n.ra-chat-assistant .ra-chat-role {\n  color: #4caf50;\n}\n\n.ra-chat-content {\n  color: var(--text-color);\n}\n\n.ra-chat-loading {\n  font-style: italic;\n  color: var(--text-secondary);\n}\n\n/* Chat Form */\n.ra-chat-form {\n  display: flex;\n  gap: 0.5rem;\n  align-items: flex-end;\n}\n\n.ra-chat-input {\n  flex: 1;\n  min-width: 0;\n  padding: 0.625rem 0.75rem;\n  border: 1px solid var(--border-color);\n  border-radius: 0.375rem;\n  font-family: inherit;\n  font-size: 0.875rem;\n  line-height: 1.5;\n  background-color: var(--input-bg);\n  color: var(--text-color);\n  box-sizing: border-box;\n  resize: none;\n  transition: border-color 0.2s ease, box-shadow 0.2s ease;\n}\n\n.ra-chat-input:focus {\n  outline: none;\n  border-color: var(--button-primary-bg);\n  box-shadow: 0 0 0 2px rgba(33, 150, 243, 0.1);\n}\n\n.ra-chat-input::placeholder {\n  color: var(--text-secondary);\n}\n\n.ra-chat-input:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n/* ============================================\n   STATUS MESSAGES\n   ============================================ */\n.ra-error {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.75rem 1rem;\n  border-radius: 0.375rem;\n  margin-bottom: 1rem;\n  background-color: var(--status-error-bg);\n  border: 1px solid var(--status-error-border);\n  color: var(--status-error-text);\n  font-size: 0.875rem;\n}\n\n.ra-error button {\n  background: none;\n  border: none;\n  color: inherit;\n  cursor: pointer;\n  font-size: 0.8125rem;\n  font-weight: 500;\n  text-decoration: underline;\n  padding: 0;\n}\n\n.ra-error button:hover {\n  opacity: 0.8;\n}\n\n.ra-success {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.75rem 1rem;\n  border-radius: 0.375rem;\n  margin-bottom: 1rem;\n  background-color: var(--status-success-bg);\n  border: 1px solid var(--status-success-border);\n  color: var(--status-success-text);\n  font-size: 0.875rem;\n}\n\n.ra-success button {\n  background: none;\n  border: none;\n  color: inherit;\n  cursor: pointer;\n  font-size: 0.8125rem;\n  font-weight: 500;\n  text-decoration: underline;\n  padding: 0;\n}\n\n.ra-success button:hover {\n  opacity: 0.8;\n}\n\n/* ============================================\n   LOADING STATE\n   ============================================ */\n.ra-analyze button:disabled {\n  position: relative;\n}\n\n/* ============================================\n   SCROLLBAR STYLING (Dark Mode)\n   ============================================ */\n.research-assistant.dark-theme ::-webkit-scrollbar {\n  width: 8px;\n  height: 8px;\n}\n\n.research-assistant.dark-theme ::-webkit-scrollbar-track {\n  background: var(--bg-color);\n  border-radius: 4px;\n}\n\n.research-assistant.dark-theme ::-webkit-scrollbar-thumb {\n  background: var(--border-color);\n  border-radius: 4px;\n}\n\n.research-assistant.dark-theme ::-webkit-scrollbar-thumb:hover {\n  background: rgba(255, 255, 255, 0.2);\n}\n`,""]);const p=d}}]);