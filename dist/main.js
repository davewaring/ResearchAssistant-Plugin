/*! For license information please see main.js.LICENSE.txt */
var ResearchAssistant;(()=>{"use strict";var e,r,n,t,o,a,s,i,c,l,u,d,p,h,f,m={20:(e,r,n)=>{var t=n(769),o=Symbol.for("react.element"),a=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(e,r,n){var t,c={},l=null,u=null;for(t in void 0!==n&&(l=""+n),void 0!==r.key&&(l=""+r.key),void 0!==r.ref&&(u=r.ref),r)a.call(r,t)&&!i.hasOwnProperty(t)&&(c[t]=r[t]);if(e&&e.defaultProps)for(t in r=e.defaultProps)void 0===c[t]&&(c[t]=r[t]);return{$$typeof:o,type:e,key:l,ref:u,props:c,_owner:s.current}}r.jsx=c,r.jsxs=c},46:e=>{e.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2712%27 height=%2712%27 viewBox=%270 0 12 12%27%3E%3Cpath fill=%27%236b7280%27 d=%27M2 4l4 4 4-4%27/%3E%3C/svg%3E"},56:(e,r,n)=>{e.exports=function(e){var r=n.nc;r&&e.setAttribute("nonce",r)}},72:e=>{var r=[];function n(e){for(var n=-1,t=0;t<r.length;t++)if(r[t].identifier===e){n=t;break}return n}function t(e,t){for(var a={},s=[],i=0;i<e.length;i++){var c=e[i],l=t.base?c[0]+t.base:c[0],u=a[l]||0,d="".concat(l," ").concat(u);a[l]=u+1;var p=n(d),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)r[p].references++,r[p].updater(h);else{var f=o(h,t);t.byIndex=i,r.splice(i,0,{identifier:d,updater:f,references:1})}s.push(d)}return s}function o(e,r){var n=r.domAPI(r);return n.update(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap&&r.supports===e.supports&&r.layer===e.layer)return;n.update(e=r)}else n.remove()}}e.exports=function(e,o){var a=t(e=e||[],o=o||{});return function(e){e=e||[];for(var s=0;s<a.length;s++){var i=n(a[s]);r[i].references--}for(var c=t(e,o),l=0;l<a.length;l++){var u=n(a[l]);0===r[u].references&&(r[u].updater(),r.splice(u,1))}a=c}}},113:e=>{e.exports=function(e,r){if(r.styleSheet)r.styleSheet.cssText=e;else{for(;r.firstChild;)r.removeChild(r.firstChild);r.appendChild(document.createTextNode(e))}}},159:e=>{e.exports=function(e){var r=document.createElement("style");return e.setAttributes(r,e.attributes),e.insert(r,e.options),r}},287:(e,r)=>{var n=Symbol.for("react.element"),t=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator,f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,r,n){this.props=e,this.context=r,this.refs=g,this.updater=n||f}function b(){}function y(e,r,n){this.props=e,this.context=r,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,r){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,r,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var x=y.prototype=new b;x.constructor=y,m(x,v.prototype),x.isPureReactComponent=!0;var S=Array.isArray,w=Object.prototype.hasOwnProperty,j={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function k(e,r,t){var o,a={},s=null,i=null;if(null!=r)for(o in void 0!==r.ref&&(i=r.ref),void 0!==r.key&&(s=""+r.key),r)w.call(r,o)&&!_.hasOwnProperty(o)&&(a[o]=r[o]);var c=arguments.length-2;if(1===c)a.children=t;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}if(e&&e.defaultProps)for(o in c=e.defaultProps)void 0===a[o]&&(a[o]=c[o]);return{$$typeof:n,type:e,key:s,ref:i,props:a,_owner:j.current}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function E(e,r){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var r={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return r[e]})}(""+e.key):r.toString(36)}function I(e,r,o,a,s){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var c=!1;if(null===e)c=!0;else switch(i){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case t:c=!0}}if(c)return s=s(c=e),e=""===a?"."+E(c,0):a,S(s)?(o="",null!=e&&(o=e.replace(A,"$&/")+"/"),I(s,r,o,"",function(e){return e})):null!=s&&(C(s)&&(s=function(e,r){return{$$typeof:n,type:e.type,key:r,ref:e.ref,props:e.props,_owner:e._owner}}(s,o+(!s.key||c&&c.key===s.key?"":(""+s.key).replace(A,"$&/")+"/")+e)),r.push(s)),1;if(c=0,a=""===a?".":a+":",S(e))for(var l=0;l<e.length;l++){var u=a+E(i=e[l],l);c+=I(i,r,o,u,s)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),l=0;!(i=e.next()).done;)c+=I(i=i.value,r,o,u=a+E(i,l++),s);else if("object"===i)throw r=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return c}function R(e,r,n){if(null==e)return e;var t=[],o=0;return I(e,t,"","",function(e){return r.call(n,e,o++)}),t}function N(e){if(-1===e._status){var r=e._result;(r=r()).then(function(r){0!==e._status&&-1!==e._status||(e._status=1,e._result=r)},function(r){0!==e._status&&-1!==e._status||(e._status=2,e._result=r)}),-1===e._status&&(e._status=0,e._result=r)}if(1===e._status)return e._result.default;throw e._result}var T={current:null},O={transition:null},P={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:O,ReactCurrentOwner:j};function M(){throw Error("act(...) is not supported in production builds of React.")}r.Children={map:R,forEach:function(e,r,n){R(e,function(){r.apply(this,arguments)},n)},count:function(e){var r=0;return R(e,function(){r++}),r},toArray:function(e){return R(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},r.Component=v,r.Fragment=o,r.Profiler=s,r.PureComponent=y,r.StrictMode=a,r.Suspense=u,r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,r.act=M,r.cloneElement=function(e,r,t){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),a=e.key,s=e.ref,i=e._owner;if(null!=r){if(void 0!==r.ref&&(s=r.ref,i=j.current),void 0!==r.key&&(a=""+r.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in r)w.call(r,l)&&!_.hasOwnProperty(l)&&(o[l]=void 0===r[l]&&void 0!==c?c[l]:r[l])}var l=arguments.length-2;if(1===l)o.children=t;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}return{$$typeof:n,type:e.type,key:a,ref:s,props:o,_owner:i}},r.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},r.createElement=k,r.createFactory=function(e){var r=k.bind(null,e);return r.type=e,r},r.createRef=function(){return{current:null}},r.forwardRef=function(e){return{$$typeof:l,render:e}},r.isValidElement=C,r.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:N}},r.memo=function(e,r){return{$$typeof:d,type:e,compare:void 0===r?null:r}},r.startTransition=function(e){var r=O.transition;O.transition={};try{e()}finally{O.transition=r}},r.unstable_act=M,r.useCallback=function(e,r){return T.current.useCallback(e,r)},r.useContext=function(e){return T.current.useContext(e)},r.useDebugValue=function(){},r.useDeferredValue=function(e){return T.current.useDeferredValue(e)},r.useEffect=function(e,r){return T.current.useEffect(e,r)},r.useId=function(){return T.current.useId()},r.useImperativeHandle=function(e,r,n){return T.current.useImperativeHandle(e,r,n)},r.useInsertionEffect=function(e,r){return T.current.useInsertionEffect(e,r)},r.useLayoutEffect=function(e,r){return T.current.useLayoutEffect(e,r)},r.useMemo=function(e,r){return T.current.useMemo(e,r)},r.useReducer=function(e,r,n){return T.current.useReducer(e,r,n)},r.useRef=function(e){return T.current.useRef(e)},r.useState=function(e){return T.current.useState(e)},r.useSyncExternalStore=function(e,r,n){return T.current.useSyncExternalStore(e,r,n)},r.useTransition=function(){return T.current.useTransition()},r.version="18.3.1"},314:e=>{e.exports=function(e){var r=[];return r.toString=function(){return this.map(function(r){var n="",t=void 0!==r[5];return r[4]&&(n+="@supports (".concat(r[4],") {")),r[2]&&(n+="@media ".concat(r[2]," {")),t&&(n+="@layer".concat(r[5].length>0?" ".concat(r[5]):""," {")),n+=e(r),t&&(n+="}"),r[2]&&(n+="}"),r[4]&&(n+="}"),n}).join("")},r.i=function(e,n,t,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(t)for(var i=0;i<this.length;i++){var c=this[i][0];null!=c&&(s[c]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);t&&s[u[0]]||(void 0!==a&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),r.push(u))}},r}},417:e=>{e.exports=function(e,r){return r||(r={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),r.hash&&(e+=r.hash),/["'() \t\n]|(%20)/.test(e)||r.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},540:(e,r,n)=>{e.exports=n(287)},601:e=>{e.exports=function(e){return e[1]}},630:(e,r,n)=>{n.r(r),n.d(r,{default:()=>R,metadata:()=>T,version:()=>N});var t=n(848),o=n(769),a=n.n(o),s=n(72),i=n.n(s),c=n(825),l=n.n(c),u=n(659),d=n.n(u),p=n(56),h=n.n(p),f=n(159),m=n.n(f),g=n(113),v=n.n(g),b=n(926),y={};y.styleTagTransform=v(),y.setAttributes=h(),y.insert=d().bind(null,"head"),y.domAPI=l(),y.insertStyleElement=m(),i()(b.A,y),b.A&&b.A.locals&&b.A.locals;var x=function(){return x=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var o in r=arguments[n])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e},x.apply(this,arguments)};const S=function(e){var r=e.error,n=e.onRetry,o=e.onDismiss,s=e.className,i=void 0===s?"":s,c=e.showDetails,l=void 0!==c&&c,u=e.variant,d=void 0===u?"error":u,p=a().useState(!1),h=p[0],f=p[1],m="string"==typeof r?{message:r,timestamp:(new Date).toISOString()}:x({timestamp:(new Date).toISOString()},r),g=function(){switch(d){case"warning":return{backgroundColor:"#fff3cd",borderColor:"#ffeaa7",color:"#856404",icon:"âš ï¸"};case"info":return{backgroundColor:"#d1ecf1",borderColor:"#bee5eb",color:"#0c5460",icon:"â„¹ï¸"};default:return{backgroundColor:"#f8d7da",borderColor:"#f5c6cb",color:"#721c24",icon:"âŒ"}}}();return(0,t.jsx)("div",{className:"error-display ".concat(i),style:{padding:"12px",margin:"8px 0",border:"1px solid ".concat(g.borderColor),borderRadius:"6px",backgroundColor:g.backgroundColor,color:g.color,fontFamily:"Arial, sans-serif"},children:(0,t.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"8px"},children:[(0,t.jsx)("div",{className:"error-icon",style:{fontSize:"16px",flexShrink:0},children:g.icon}),(0,t.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,t.jsx)("p",{className:"error-message",style:{margin:"0 0 8px 0",fontSize:"14px",fontWeight:"500",wordBreak:"break-word"},children:m.message}),o&&(0,t.jsx)("button",{onClick:o,style:{background:"none",border:"none",fontSize:"16px",cursor:"pointer",padding:"0",marginLeft:"8px",color:g.color,opacity:.7},title:"Dismiss error",children:"Ã—"})]}),m.code&&(0,t.jsxs)("div",{style:{fontSize:"12px",opacity:.8,marginBottom:"4px"},children:[(0,t.jsx)("strong",{children:"Error Code:"})," ",m.code]}),m.timestamp&&(0,t.jsx)("div",{style:{fontSize:"11px",opacity:.7,marginBottom:"8px"},children:new Date(m.timestamp).toLocaleString()}),l&&(m.details||m.stack)&&(0,t.jsxs)("div",{style:{marginBottom:"8px"},children:[(0,t.jsx)("button",{onClick:function(){return f(!h)},style:{background:"none",border:"1px solid ".concat(g.color),color:g.color,padding:"2px 6px",fontSize:"10px",borderRadius:"3px",cursor:"pointer",opacity:.8},children:h?"Hide Details":"Show Details"}),h&&(0,t.jsxs)("div",{style:{marginTop:"8px",padding:"8px",backgroundColor:"rgba(0,0,0,0.1)",borderRadius:"4px",fontSize:"11px",fontFamily:"monospace",maxHeight:"200px",overflow:"auto"},children:[m.details&&(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Details:"}),(0,t.jsx)("pre",{style:{margin:"4px 0",whiteSpace:"pre-wrap"},children:JSON.stringify(m.details,null,2)})]}),m.stack&&(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Stack Trace:"}),(0,t.jsx)("pre",{style:{margin:"4px 0",whiteSpace:"pre-wrap"},children:m.stack})]})]})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[n&&(0,t.jsx)("button",{onClick:n,className:"retry-button",style:{padding:"6px 12px",backgroundColor:g.color,color:"white",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer",fontWeight:"500"},children:"Try Again"}),l&&(0,t.jsx)("button",{onClick:function(){var e="Error: ".concat(m.message,"\nCode: ").concat(m.code||"N/A","\nTime: ").concat(m.timestamp,"\nDetails: ").concat(JSON.stringify(m.details,null,2));navigator.clipboard.writeText(e).then(function(){console.log("Error details copied to clipboard")}).catch(function(e){console.warn("Failed to copy error details:",e)})},style:{padding:"6px 12px",backgroundColor:"transparent",color:g.color,border:"1px solid ".concat(g.color),borderRadius:"4px",fontSize:"12px",cursor:"pointer"},title:"Copy error details to clipboard",children:"Copy Details"})]})]})]})})};var w,j=(w=function(e,r){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])},w(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}w(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)});const _=function(e){function r(r){var n=e.call(this,r)||this;return n.resetTimeoutId=null,n.reportError=function(e,r){try{var t={message:e.message,stack:e.stack,componentStack:r.componentStack,timestamp:(new Date).toISOString(),userAgent:navigator.userAgent,url:window.location.href,errorId:n.state.errorId};console.log("ðŸ“Š Error Report (TODO: Send to monitoring service):",t)}catch(e){console.error("ErrorBoundary: Failed to report error:",e)}},n.resetErrorBoundary=function(){console.log("ðŸ”„ ErrorBoundary: Resetting error state"),n.setState({hasError:!1,error:null,errorInfo:null,errorId:null})},n.handleRetry=function(){console.log("ðŸ”„ ErrorBoundary: User initiated retry"),n.resetErrorBoundary()},n.handleAutoRetry=function(e){void 0===e&&(e=5e3),console.log("â° ErrorBoundary: Auto-retry scheduled in ".concat(e,"ms")),n.resetTimeoutId=window.setTimeout(function(){console.log("ðŸ”„ ErrorBoundary: Auto-retry executing"),n.resetErrorBoundary()},e)},n.createErrorInfo=function(){var e=n.state,r=e.error,t=e.errorInfo,o=e.errorId;return{message:(null==r?void 0:r.message)||"An unexpected error occurred",code:(null==r?void 0:r.name)||"COMPONENT_ERROR",details:{stack:null==r?void 0:r.stack,componentStack:null==t?void 0:t.componentStack,errorId:o,timestamp:(new Date).toISOString(),props:n.props.children?"Component tree present":"No component tree"},timestamp:(new Date).toISOString(),stack:null==r?void 0:r.stack}},n.state={hasError:!1,error:null,errorInfo:null,errorId:null},n}return j(r,e),r.getDerivedStateFromError=function(e){return{hasError:!0,error:e,errorId:"error_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))}},r.prototype.componentDidCatch=function(e,r){if(console.group("ðŸš¨ ErrorBoundary: Component Error Caught"),console.error("Error:",e),console.error("Error Info:",r),console.error("Component Stack:",r.componentStack),console.groupEnd(),this.setState({error:e,errorInfo:r,errorId:"error_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))}),this.props.onError)try{this.props.onError(e,r)}catch(e){console.error("ErrorBoundary: Error in custom error handler:",e)}this.reportError(e,r)},r.prototype.componentDidUpdate=function(e){var r=this.props,n=r.resetOnPropsChange,t=r.resetKeys,o=this.state.hasError;o&&t&&e.resetKeys&&t.some(function(r,n){return r!==e.resetKeys[n]})&&this.resetErrorBoundary(),o&&n&&e.children!==this.props.children&&this.resetErrorBoundary()},r.prototype.componentWillUnmount=function(){this.resetTimeoutId&&clearTimeout(this.resetTimeoutId)},r.prototype.render=function(){var e=this,r=this.state.hasError,n=this.props,o=n.children,a=n.fallback;if(r){if(a)return a;var s=this.createErrorInfo();return(0,t.jsxs)("div",{style:{padding:"20px",margin:"10px",border:"2px solid #ff6b6b",borderRadius:"8px",backgroundColor:"#fff5f5",fontFamily:"Arial, sans-serif"},children:[(0,t.jsx)("div",{style:{display:"flex",alignItems:"center",marginBottom:"16px",fontSize:"18px",fontWeight:"bold",color:"#d63031"},children:"ðŸš¨ Component Error"}),(0,t.jsx)(S,{error:s,onRetry:this.handleRetry,showDetails:!0,variant:"error"}),(0,t.jsxs)("div",{style:{marginTop:"16px",padding:"12px",backgroundColor:"#f8f9fa",borderRadius:"6px",fontSize:"12px",color:"#6c757d"},children:[(0,t.jsx)("div",{style:{marginBottom:"8px"},children:(0,t.jsx)("strong",{children:"ðŸ”§ Troubleshooting Tips:"})}),(0,t.jsxs)("ul",{style:{margin:"0",paddingLeft:"20px"},children:[(0,t.jsx)("li",{children:"Check the browser console for additional error details"}),(0,t.jsx)("li",{children:"Verify that all required props are provided correctly"}),(0,t.jsx)("li",{children:"Ensure all dependencies are properly imported"}),(0,t.jsx)("li",{children:"Check for any recent changes that might have caused this error"}),(0,t.jsx)("li",{children:"Try refreshing the page if this is a temporary issue"})]})]}),(0,t.jsxs)("div",{style:{marginTop:"12px",display:"flex",gap:"8px",flexWrap:"wrap"},children:[(0,t.jsx)("button",{onClick:function(){return e.handleAutoRetry(1e3)},style:{padding:"8px 16px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer"},children:"Auto-Retry in 1s"}),(0,t.jsx)("button",{onClick:function(){return window.location.reload()},style:{padding:"8px 16px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer"},children:"Reload Page"})]})]})}return o},r}(o.Component);var k=function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])},e(r,n)};return function(r,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=r}e(r,n),r.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}}(),C=function(e,r,n,t){return new(n||(n=Promise))(function(o,a){function s(e){try{c(t.next(e))}catch(e){a(e)}}function i(e){try{c(t.throw(e))}catch(e){a(e)}}function c(e){var r;e.done?o(e.value):(r=e.value,r instanceof n?r:new n(function(e){e(r)})).then(s,i)}c((t=t.apply(e,r||[])).next())})},A=function(e,r){var n,t,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=i(0),s.throw=i(1),s.return=i(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,i[0]&&(a=0)),a;)try{if(n=1,t&&(o=2&i[0]?t.return:i[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,i[1])).done)return o;switch(t=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,t=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=r.call(e,a)}catch(e){i=[6,e],t=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},E=function(e,r,n){if(n||2===arguments.length)for(var t,o=0,a=r.length;o<a;o++)!t&&o in r||(t||(t=Array.prototype.slice.call(r,0,o)),t[o]=r[o]);return e.concat(t||Array.prototype.slice.call(r))},I=function(e){function r(r){var n=e.call(this,r)||this;return n.themeChangeListener=null,n.currentUserId=null,n.handleModelChange=function(e){var r=e.target.value,t=n.state.models.find(function(e){return"".concat(e.provider,"_").concat(e.serverId,"_").concat(e.name)===r});n.setState({selectedModel:t||null})},n.handleArticleChange=function(e){n.setState({articleText:e.target.value})},n.handleProjectChange=function(e){n.setState({selectedProject:e.target.value})},n.handleAnalyze=function(){return C(n,void 0,void 0,function(){var e,r,n,t,o,a,s,i,c,l,u,d,p,h,f,m,g,v,b;return A(this,function(y){switch(y.label){case 0:if(e=this.state,r=e.articleText,n=e.selectedProject,t=this.props,o=t.services,t.config,!r.trim())return this.setState({error:"Please paste article text to analyze"}),[2];if(!o.api)return this.setState({error:"API service not available"}),[2];this.setState({isLoading:!0,error:"",analysisResult:null}),y.label=1;case 1:return y.trys.push([1,5,,6]),a=null,n?[4,this.getProjectContext(n)]:[3,3];case 2:a=y.sent(),y.label=3;case 3:if(s=this.buildAnalysisPrompt(r,a),!(i=this.state.selectedModel))throw new Error("No AI model selected. Please select a model from the dropdown.");return[4,o.api.post("/api/v1/ai/providers/chat",{provider:i.provider,settings_id:i.providerId,server_id:i.serverId,model:i.name,messages:[{role:"user",content:s}],user_id:this.currentUserId||"current",stream:!1,params:{temperature:.3,max_tokens:2e3}})];case 4:if(c=y.sent(),!(l=(null===(f=null===(h=null===(p=null==c?void 0:c.choices)||void 0===p?void 0:p[0])||void 0===h?void 0:h.message)||void 0===f?void 0:f.content)||(null===(b=null===(v=null===(g=null===(m=null==c?void 0:c.data)||void 0===m?void 0:m.choices)||void 0===g?void 0:g[0])||void 0===v?void 0:v.message)||void 0===b?void 0:b.content)))throw new Error("No response content from LLM");if(!(u=this.parseAnalysisResponse(l)))throw new Error("Failed to parse LLM response");return this.setState({isLoading:!1,analysisResult:u}),[3,6];case 5:return d=y.sent(),console.error("Analysis failed:",d),this.setState({isLoading:!1,error:"Analysis failed: ".concat(d.message||"Unknown error",". Check that your AI provider is configured in BrainDrive.")}),[3,6];case 6:return[2]}})})},n.handleAction=function(e){return C(n,void 0,void 0,function(){var r,n,t,o,a,s,i,c,l,u=this;return A(this,function(d){switch(d.label){case 0:if(r=this.state.selectedProject,n=this.props.services,"dismiss"===e)return this.setState({articleText:"",analysisResult:null,chatMessages:[],saveSuccess:""}),[2];if(!r)return this.setState({error:"Please select a project to save findings to."}),[2];if(!n.api)return this.setState({error:"API service not available"}),[2];this.setState({isSaving:!0,error:"",saveSuccess:""}),d.label=1;case 1:return d.trys.push([1,3,,4]),t="integrate"===e?"research-findings.md":"ideas.md",o=this.formatSaveContent(e),[4,n.api.post("/api/v1/plugin-api/braindrive-library/library/append-file",{project_slug:r,filename:t,content:o})];case 2:if(a=d.sent(),!(null!==(c=null==a?void 0:a.success)&&void 0!==c?c:null===(l=null==a?void 0:a.data)||void 0===l?void 0:l.success))throw new Error("Save operation returned unsuccessful");return s="integrate"===e?"research-findings.md":"ideas.md",this.setState({isSaving:!1,saveSuccess:"Saved to ".concat(r,"/").concat(s),articleText:"",analysisResult:null,chatMessages:[]}),setTimeout(function(){u.setState({saveSuccess:""})},5e3),[3,4];case 3:return i=d.sent(),console.error("Save failed:",i),this.setState({isSaving:!1,error:"Failed to save: ".concat(i.message||"Unknown error")}),[3,4];case 4:return[2]}})})},n.handleChatSubmit=function(e){return C(n,void 0,void 0,function(){var r,n,t,o,a,s,i,c,l,u,d,p,h,f,m,g,v,b,y;return A(this,function(x){switch(x.label){case 0:if(e.preventDefault(),r=this.state,n=r.chatInput,t=r.chatMessages,o=r.selectedModel,a=this.props.services,!n.trim())return[2];if(!a.api)return this.setState({error:"API service not available"}),[2];if(!o)return this.setState({error:"Please select an AI model"}),[2];s={role:"user",content:n},i=E(E([],t,!0),[s],!1),this.setState({chatMessages:i,chatInput:"",isChatLoading:!0}),x.label=1;case 1:return x.trys.push([1,3,,4]),c=this.buildChatSystemPrompt(),l=E([{role:"system",content:c}],i.map(function(e){return{role:e.role,content:e.content}}),!0),[4,a.api.post("/api/v1/ai/providers/chat",{provider:o.provider,settings_id:o.providerId,server_id:o.serverId,model:o.name,messages:l,user_id:this.currentUserId||"current",stream:!1,params:{temperature:.5,max_tokens:500}})];case 2:return u=x.sent(),d=(null===(m=null===(f=null===(h=null==u?void 0:u.choices)||void 0===h?void 0:h[0])||void 0===f?void 0:f.message)||void 0===m?void 0:m.content)||(null===(y=null===(b=null===(v=null===(g=null==u?void 0:u.data)||void 0===g?void 0:g.choices)||void 0===v?void 0:v[0])||void 0===b?void 0:b.message)||void 0===y?void 0:y.content)||"Sorry, I could not generate a response.",this.setState({chatMessages:E(E([],i,!0),[{role:"assistant",content:d}],!1),isChatLoading:!1}),[3,4];case 3:return p=x.sent(),console.error("Chat failed:",p),this.setState({chatMessages:E(E([],i,!0),[{role:"assistant",content:"Error: ".concat(p.message||"Failed to get response")}],!1),isChatLoading:!1}),[3,4];case 4:return[2]}})})},n.state={isLoading:!1,error:"",currentTheme:"light",isInitializing:!1,articleText:"",selectedProject:"",projects:[],models:[],selectedModel:null,isLoadingModels:!1,analysisResult:null,chatMessages:[],chatInput:"",isChatLoading:!1,saveSuccess:"",isSaving:!1},n.currentUserId=null,n}return k(r,e),r.prototype.componentDidMount=function(){return C(this,void 0,void 0,function(){return A(this,function(e){switch(e.label){case 0:return[4,this.initializeServices()];case 1:return e.sent(),[4,this.loadProjects()];case 2:return e.sent(),[4,this.loadModels()];case 3:return e.sent(),[2]}})})},r.prototype.componentWillUnmount=function(){this.cleanupServices()},r.prototype.initializeServices=function(){return C(this,void 0,void 0,function(){var e,r,n,t,o=this;return A(this,function(a){switch(a.label){case 0:if((e=this.props.services).theme&&(r=e.theme.getCurrentTheme(),this.setState({currentTheme:r}),this.themeChangeListener=function(e){o.setState({currentTheme:e})},e.theme.addThemeChangeListener(this.themeChangeListener)),!e.api)return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,e.api.get("/api/v1/auth/me")];case 2:return(n=a.sent())&&n.id&&(this.currentUserId=n.id),[3,4];case 3:return t=a.sent(),console.warn("Research Assistant: Could not get current user ID:",t),[3,4];case 4:return[2]}})})},r.prototype.cleanupServices=function(){var e=this.props.services;e.theme&&this.themeChangeListener&&e.theme.removeThemeChangeListener(this.themeChangeListener)},r.prototype.loadProjects=function(){return C(this,void 0,void 0,function(){var e,r,n,t;return A(this,function(o){switch(o.label){case 0:if(!(e=this.props.services).api)return console.warn("Research Assistant: API service not available, using fallback projects"),this.setState({projects:[{slug:"no-api",name:"(API not available)"}]}),[2];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,e.api.get("/api/v1/plugin-api/braindrive-library/library/projects?lifecycle=active")];case 2:return r=o.sent(),0===(n=Array.isArray(r)?r:r.projects||r.data||[]).length?(this.setState({projects:[{slug:"",name:"(No projects found in Library)"}]}),[2]):(this.setState({projects:n.map(function(e){return{slug:e.slug,name:e.lifecycle?"".concat(e.name," (").concat(e.lifecycle,")"):e.name,path:e.path,has_agent_md:e.has_agent_md,has_spec_md:e.has_spec,has_build_plan:e.has_build_plan,status:e.lifecycle}})}),[3,4]);case 3:return t=o.sent(),console.error("Research Assistant: Failed to load projects:",t),this.setState({projects:[{slug:"",name:"(Error loading projects)"}],error:"Failed to load projects from Library"}),[3,4];case 4:return[2]}})})},r.prototype.loadModels=function(){return C(this,void 0,void 0,function(){var e,r,n,t,o,a;return A(this,function(s){switch(s.label){case 0:if(!(e=this.props.services).api)return console.warn("Research Assistant: API service not available for loading models"),[2];this.setState({isLoadingModels:!0}),r={ollama:"ollama_servers_settings",openai:"openai_api_keys_settings",openrouter:"openrouter_api_keys_settings",claude:"claude_api_keys_settings",groq:"groq_api_keys_settings"},s.label=1;case 1:return s.trys.push([1,3,,4]),[4,e.api.get("/api/v1/ai/providers/all-models")];case 2:return n=s.sent(),t=n&&n.models||n&&n.data&&n.data.models||(Array.isArray(n)?n:[]),o=Array.isArray(t)?t.map(function(e){var n=e.provider||"ollama",t=r[n]||n,o=e.server_id||e.serverId||"unknown",a=e.server_name||e.serverName||"Unknown Server";return{name:e.name||e.id||"",provider:n,providerId:t,serverName:a,serverId:o}}):[],this.setState({models:o,selectedModel:o.length>0?o[0]:null,isLoadingModels:!1}),[3,4];case 3:return a=s.sent(),console.error("Research Assistant: Failed to load models:",a),this.setState({models:[],selectedModel:null,isLoadingModels:!1}),[3,4];case 4:return[2]}})})},r.prototype.getProjectContext=function(e){return C(this,void 0,void 0,function(){var r,n,t,o,a,s,i,c;return A(this,function(l){switch(l.label){case 0:if(!(r=this.props.services).api||!e)return[2,null];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,r.api.get("/api/v1/plugin-api/braindrive-library/library/project/".concat(e,"/context?files=AGENT.md,spec.md,build-plan.md,research-findings.md"))];case 2:return n=l.sent(),t=(null==n?void 0:n.files)||{},[2,{project_slug:(null==n?void 0:n.project)||e,agent_md:(null===(a=t["AGENT.md"])||void 0===a?void 0:a.content)||null,spec_md:(null===(s=t["spec.md"])||void 0===s?void 0:s.content)||null,build_plan_md:(null===(i=t["build-plan.md"])||void 0===i?void 0:i.content)||null,research_findings_md:(null===(c=t["research-findings.md"])||void 0===c?void 0:c.content)||null}];case 3:return o=l.sent(),console.error("Failed to load project context:",o),[2,null];case 4:return[2]}})})},r.prototype.buildAnalysisPrompt=function(e,r){var n="";return r&&(n="\n## Project Context\n\n**Project:** ".concat(r.project_slug,"\n\n### Project Overview (from AGENT.md):\n").concat(r.agent_md||"No AGENT.md found","\n\n### Project Specification (from spec.md):\n").concat(r.spec_md?r.spec_md.substring(0,2e3)+"...":"No spec.md found","\n\n### Existing Research (from research-findings.md):\n").concat(r.research_findings_md?r.research_findings_md.substring(0,1e3)+"...":"No existing research findings","\n")),"You are a research assistant helping to triage articles and resources for relevance to a project.\n\n".concat(n,"\n\n## Article to Analyze\n\n").concat(e.substring(0,15e3),'\n\n## Your Task\n\nAnalyze this article and determine its relevance to the project (if provided) or general usefulness.\n\nRespond in the following JSON format ONLY (no other text):\n{\n  "recommendation": "integrate" | "save" | "skip",\n  "confidence": 0.0-1.0,\n  "insights": ["insight 1", "insight 2", "insight 3"],\n  "explanation": "2-3 sentence explanation of your recommendation"\n}\n\n**Recommendation meanings:**\n- "integrate": Highly relevant, should be integrated into the project now\n- "save": Potentially useful, save for future reference\n- "skip": Not relevant to this project\n\nBe concise but specific in your insights.')},r.prototype.parseAnalysisResponse=function(e){try{var r=e.match(/\{[\s\S]*\}/);if(!r)return console.error("No JSON found in LLM response"),null;var n=JSON.parse(r[0]);if(!n.recommendation||!n.insights||!n.explanation)return console.error("Missing required fields in LLM response"),null;var t=n.recommendation.toLowerCase();return{recommendation:["integrate","save","skip"].includes(t)?t:"save",confidence:Math.min(1,Math.max(0,n.confidence||.5)),insights:Array.isArray(n.insights)?n.insights.slice(0,5):[n.insights],explanation:String(n.explanation)}}catch(e){return console.error("Failed to parse LLM response:",e),null}},r.prototype.formatSaveContent=function(e){var r=this.state,n=r.articleText,t=r.analysisResult,o=(r.selectedProject,(new Date).toISOString().split("T")[0]),a=(new Date).toLocaleTimeString(),s=n.split("\n")[0].trim(),i=s.length>80?s.substring(0,77)+"...":s,c="\n\n## ".concat(o," ").concat(a," - ").concat(i||"Untitled Research","\n\n");t&&(c+="**Recommendation:** ".concat(t.recommendation," (").concat(Math.round(100*t.confidence),"% confidence)\n\n"),c+="**Key Insights:**\n",t.insights.forEach(function(e){c+="- ".concat(e,"\n")}),c+="\n",c+="**Analysis:** ".concat(t.explanation,"\n\n"));var l=n.length>500?n.substring(0,500)+"...":n;return c+="<details>\n<summary>Article Excerpt</summary>\n\n".concat(l,"\n\n</details>\n"),c+="\n---\n"},r.prototype.buildChatSystemPrompt=function(){var e=this.state,r=e.articleText,n=e.analysisResult,t=e.selectedProject,o="You are a helpful research assistant. The user has been analyzing an article and may have questions about it.\n\n## Article Being Analyzed\n\n".concat(r.substring(0,1e4),"\n\n");return n&&(o+="## Previous Analysis\n\n**Recommendation:** ".concat(n.recommendation,"\n**Confidence:** ").concat(Math.round(100*n.confidence),"%\n**Insights:**\n").concat(n.insights.map(function(e){return"- ".concat(e)}).join("\n"),"\n**Explanation:** ").concat(n.explanation,"\n\n")),t&&(o+="**Project Context:** ".concat(t,"\n\n")),o+"Answer the user's questions about this article concisely and helpfully. Reference specific parts of the article when relevant."},r.prototype.renderArticleInput=function(){var e=this.state.articleText,r=e.length;return(0,t.jsxs)("div",{className:"ra-section ra-article-input",children:[(0,t.jsx)("h4",{children:"Article Text"}),(0,t.jsx)("textarea",{value:e,onChange:this.handleArticleChange,placeholder:"Paste article text here...",rows:10}),(0,t.jsxs)("div",{className:"ra-char-count",children:[r.toLocaleString()," characters",r>5e4&&(0,t.jsx)("span",{className:"ra-warning",children:" (large article - may be truncated)"})]})]})},r.prototype.renderProjectSelector=function(){var e=this.state,r=e.selectedProject,n=e.projects;return(0,t.jsxs)("div",{className:"ra-section ra-project-selector",children:[(0,t.jsx)("h4",{children:"Project Context (Optional)"}),(0,t.jsxs)("select",{value:r,onChange:this.handleProjectChange,children:[(0,t.jsx)("option",{value:"",children:"-- No project selected --"}),n.map(function(e){return(0,t.jsx)("option",{value:e.slug,children:e.name},e.slug)})]})]})},r.prototype.renderModelSelector=function(){var e=this.state,r=e.models,n=e.selectedModel,o=e.isLoadingModels,a=n?"".concat(n.provider,"_").concat(n.serverId,"_").concat(n.name):"";return(0,t.jsxs)("div",{className:"ra-section ra-model-selector",children:[(0,t.jsx)("h4",{children:"AI Model"}),o?(0,t.jsx)("select",{disabled:!0,children:(0,t.jsx)("option",{children:"Loading models..."})}):0===r.length?(0,t.jsx)("select",{disabled:!0,children:(0,t.jsx)("option",{children:"No models available"})}):(0,t.jsx)("select",{value:a,onChange:this.handleModelChange,children:r.map(function(e){var r="".concat(e.provider,"_").concat(e.serverId,"_").concat(e.name),n="".concat(e.name," (").concat(e.serverName,")");return(0,t.jsx)("option",{value:r,children:n},r)})})]})},r.prototype.renderAnalyzeButton=function(){var e=this.state,r=e.isLoading,n=e.articleText;return(0,t.jsx)("div",{className:"ra-section ra-analyze",children:(0,t.jsx)("button",{onClick:this.handleAnalyze,disabled:r||!n.trim(),className:"ra-button ra-button-primary",children:r?"Analyzing...":"Analyze Article"})})},r.prototype.renderAnalysisResult=function(){var e=this,r=this.state.analysisResult;return r?(0,t.jsxs)("div",{className:"ra-section ra-analysis-result",children:[(0,t.jsx)("h4",{children:"Analysis Result"}),(0,t.jsxs)("div",{className:"ra-recommendation ".concat({integrate:"ra-rec-integrate",save:"ra-rec-save",skip:"ra-rec-skip"}[r.recommendation]),children:[(0,t.jsx)("span",{className:"ra-rec-label",children:"Recommendation:"}),(0,t.jsx)("span",{className:"ra-rec-value",children:{integrate:"Integrate Now",save:"Save for Future",skip:"Not Relevant"}[r.recommendation]}),(0,t.jsxs)("span",{className:"ra-rec-confidence",children:["(",Math.round(100*r.confidence),"% confidence)"]})]}),(0,t.jsxs)("div",{className:"ra-insights",children:[(0,t.jsx)("h5",{children:"Key Insights:"}),(0,t.jsx)("ul",{children:r.insights.map(function(e,r){return(0,t.jsx)("li",{children:e},r)})})]}),(0,t.jsxs)("div",{className:"ra-explanation",children:[(0,t.jsx)("h5",{children:"Explanation:"}),(0,t.jsx)("p",{children:r.explanation})]}),(0,t.jsxs)("div",{className:"ra-actions",children:[(0,t.jsx)("button",{className:"ra-button ra-button-success",onClick:function(){return e.handleAction("integrate")},disabled:this.state.isSaving,children:this.state.isSaving?"Saving...":"Integrate Now"}),(0,t.jsx)("button",{className:"ra-button ra-button-secondary",onClick:function(){return e.handleAction("save")},disabled:this.state.isSaving,children:this.state.isSaving?"Saving...":"Save for Future"}),(0,t.jsx)("button",{className:"ra-button ra-button-muted",onClick:function(){return e.handleAction("dismiss")},disabled:this.state.isSaving,children:"Dismiss"})]})]}):null},r.prototype.renderChat=function(){var e=this,r=this.state,n=r.analysisResult,o=r.chatMessages,a=r.chatInput,s=r.isChatLoading;return n?(0,t.jsxs)("div",{className:"ra-section ra-chat",children:[(0,t.jsx)("h4",{children:"Ask Questions About This Article"}),(0,t.jsxs)("div",{className:"ra-chat-messages",children:[0===o.length&&!s&&(0,t.jsx)("p",{className:"ra-chat-empty",children:"Ask a question about the article..."}),o.map(function(e,r){return(0,t.jsxs)("div",{className:"ra-chat-message ra-chat-".concat(e.role),children:[(0,t.jsxs)("span",{className:"ra-chat-role",children:["user"===e.role?"You":"Assistant",":"]}),(0,t.jsx)("span",{className:"ra-chat-content",children:e.content})]},r)}),s&&(0,t.jsxs)("div",{className:"ra-chat-message ra-chat-assistant",children:[(0,t.jsx)("span",{className:"ra-chat-role",children:"Assistant:"}),(0,t.jsx)("span",{className:"ra-chat-content ra-chat-loading",children:"Thinking..."})]})]}),(0,t.jsxs)("div",{className:"ra-chat-form",children:[(0,t.jsx)("textarea",{className:"ra-chat-input",value:a,onChange:function(r){return e.setState({chatInput:r.target.value})},placeholder:"Type your question...",disabled:s,rows:2,onKeyDown:function(r){"Enter"!==r.key||r.shiftKey||(r.preventDefault(),e.handleChatSubmit(r))}}),(0,t.jsx)("button",{type:"button",className:"ra-button ra-button-primary",disabled:s||!a.trim(),onClick:function(r){return e.handleChatSubmit(r)},children:s?"...":"Send"})]})]}):null},r.prototype.render=function(){var e=this,r=this.state,n=r.currentTheme,o=r.error;return(0,t.jsx)(_,{children:(0,t.jsxs)("div",{className:"research-assistant ".concat("dark"===n?"dark-theme":""),children:[(0,t.jsxs)("div",{className:"ra-header",children:[(0,t.jsx)("h3",{children:"Research Assistant"}),(0,t.jsx)("p",{children:"Analyze articles for relevance to your projects"})]}),o&&(0,t.jsxs)("div",{className:"ra-error",children:[o,(0,t.jsx)("button",{onClick:function(){return e.setState({error:""})},children:"Dismiss"})]}),this.state.saveSuccess&&(0,t.jsxs)("div",{className:"ra-success",children:[this.state.saveSuccess,(0,t.jsx)("button",{onClick:function(){return e.setState({saveSuccess:""})},children:"Dismiss"})]}),this.renderArticleInput(),this.renderProjectSelector(),this.renderModelSelector(),this.renderAnalyzeButton(),this.renderAnalysisResult(),this.renderChat()]})})},r}(a().Component);const R=I;var N="1.0.0",T={name:"ResearchAssistant",description:"Triage articles and resources against project context",version:"1.0.0",author:"BrainDrive"}},659:e=>{var r={};e.exports=function(e,n){var t=function(e){if(void 0===r[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}r[e]=n}return r[e]}(e);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");t.appendChild(n)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var r=e.insertStyleElement(e);return{update:function(n){!function(e,r,n){var t="";n.supports&&(t+="@supports (".concat(n.supports,") {")),n.media&&(t+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(t+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),t+=n.css,o&&(t+="}"),n.media&&(t+="}"),n.supports&&(t+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(t+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),r.styleTagTransform(t,e,r.options)}(r,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)}}}},848:(e,r,n)=>{e.exports=n(20)},926:(e,r,n)=>{n.d(r,{A:()=>p});var t=n(601),o=n.n(t),a=n(314),s=n.n(a),i=n(417),c=n.n(i),l=new URL(n(46),n.b),u=s()(o()),d=c()(l);u.push([e.id,`/* Research Assistant Plugin Styles\n * Following BrainDrive Design System\n */\n\n/* ============================================\n   CSS VARIABLES - Light Theme (Default)\n   ============================================ */\n.research-assistant {\n  --bg-color: #ffffff;\n  --paper-bg: #ffffff;\n  --text-color: #333333;\n  --text-secondary: #6b7280;\n  --border-color: rgba(0, 0, 0, 0.12);\n  --hover-color: rgba(0, 0, 0, 0.04);\n  --input-bg: #ffffff;\n\n  /* Primary */\n  --button-primary-bg: #2196f3;\n  --button-primary-text: #ffffff;\n  --button-primary-hover: #1976d2;\n\n  /* Secondary */\n  --button-secondary-bg: #e0e0e0;\n  --button-secondary-text: #333333;\n  --button-secondary-hover: #d0d0d0;\n\n  /* Success */\n  --status-success-bg: rgba(76, 175, 80, 0.12);\n  --status-success-border: #4caf50;\n  --status-success-text: #2e7d32;\n\n  /* Warning */\n  --status-warning-bg: rgba(255, 152, 0, 0.12);\n  --status-warning-border: #ff9800;\n  --status-warning-text: #e65100;\n\n  /* Error */\n  --status-error-bg: rgba(244, 67, 54, 0.12);\n  --status-error-border: #f44336;\n  --status-error-text: #c62828;\n\n  /* Muted */\n  --button-muted-bg: #f5f5f5;\n  --button-muted-text: #666666;\n  --button-muted-hover: #eeeeee;\n\n  /* Shadows */\n  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);\n  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);\n}\n\n/* ============================================\n   CSS VARIABLES - Dark Theme\n   ============================================ */\n.research-assistant.dark-theme {\n  --bg-color: #121a28;\n  --paper-bg: #1a2332;\n  --text-color: #e0e0e0;\n  --text-secondary: #94a3b8;\n  --border-color: rgba(255, 255, 255, 0.12);\n  --hover-color: rgba(255, 255, 255, 0.04);\n  --input-bg: #1e293b;\n\n  /* Primary */\n  --button-primary-bg: #2196f3;\n  --button-primary-text: #ffffff;\n  --button-primary-hover: #42a5f5;\n\n  /* Secondary */\n  --button-secondary-bg: #2c3a4f;\n  --button-secondary-text: #ffffff;\n  --button-secondary-hover: #3d4f6a;\n\n  /* Success */\n  --status-success-bg: rgba(76, 175, 80, 0.15);\n  --status-success-border: #4caf50;\n  --status-success-text: #81c784;\n\n  /* Warning */\n  --status-warning-bg: rgba(255, 152, 0, 0.15);\n  --status-warning-border: #ff9800;\n  --status-warning-text: #ffb74d;\n\n  /* Error */\n  --status-error-bg: rgba(244, 67, 54, 0.15);\n  --status-error-border: #f44336;\n  --status-error-text: #ef9a9a;\n\n  /* Muted */\n  --button-muted-bg: #2c3a4f;\n  --button-muted-text: #94a3b8;\n  --button-muted-hover: #3d4f6a;\n\n  /* Shadows */\n  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.3);\n  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.4);\n  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.5);\n}\n\n/* ============================================\n   BASE CONTAINER\n   ============================================ */\n.research-assistant {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;\n  font-size: 0.875rem;\n  line-height: 1.5;\n  padding: 1rem;\n  background-color: var(--bg-color);\n  color: var(--text-color);\n  border-radius: 0.5rem;\n  max-width: 800px;\n}\n\n/* ============================================\n   HEADER\n   ============================================ */\n.ra-header {\n  margin-bottom: 1.25rem;\n  padding-bottom: 1rem;\n  border-bottom: 1px solid var(--border-color);\n}\n\n.ra-header h3 {\n  margin: 0 0 0.25rem 0;\n  font-size: 1.25rem;\n  font-weight: 600;\n  color: var(--text-color);\n}\n\n.ra-header p {\n  margin: 0;\n  color: var(--text-secondary);\n  font-size: 0.875rem;\n}\n\n/* ============================================\n   SECTIONS\n   ============================================ */\n.ra-section {\n  margin-bottom: 1.25rem;\n}\n\n.ra-section h4 {\n  margin: 0 0 0.5rem 0;\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: var(--text-color);\n}\n\n.ra-section h5 {\n  margin: 0.75rem 0 0.5rem 0;\n  font-size: 0.8125rem;\n  font-weight: 600;\n  color: var(--text-color);\n}\n\n/* ============================================\n   FORM CONTROLS - Textarea\n   ============================================ */\n.ra-article-input textarea {\n  width: 100%;\n  min-height: 180px;\n  padding: 0.75rem;\n  border: 1px solid var(--border-color);\n  border-radius: 0.375rem;\n  font-family: inherit;\n  font-size: 0.875rem;\n  line-height: 1.5;\n  resize: vertical;\n  background-color: var(--input-bg);\n  color: var(--text-color);\n  box-sizing: border-box;\n  transition: border-color 0.2s ease, box-shadow 0.2s ease;\n}\n\n.ra-article-input textarea:focus {\n  outline: none;\n  border-color: var(--button-primary-bg);\n  box-shadow: 0 0 0 2px rgba(33, 150, 243, 0.1);\n}\n\n.ra-article-input textarea::placeholder {\n  color: var(--text-secondary);\n}\n\n.ra-char-count {\n  margin-top: 0.375rem;\n  font-size: 0.75rem;\n  color: var(--text-secondary);\n}\n\n.ra-warning {\n  color: var(--status-warning-text);\n}\n\n/* ============================================\n   FORM CONTROLS - Select\n   ============================================ */\n.ra-project-selector select,\n.ra-model-selector select {\n  width: 100%;\n  padding: 0.625rem 0.75rem;\n  border: 1px solid var(--border-color);\n  border-radius: 0.375rem;\n  font-family: inherit;\n  font-size: 0.875rem;\n  background-color: var(--input-bg);\n  color: var(--text-color);\n  cursor: pointer;\n  transition: border-color 0.2s ease, box-shadow 0.2s ease;\n  appearance: none;\n  background-image: url(${d});\n  background-repeat: no-repeat;\n  background-position: right 0.75rem center;\n  padding-right: 2rem;\n}\n\n.ra-project-selector select:focus,\n.ra-model-selector select:focus {\n  outline: none;\n  border-color: var(--button-primary-bg);\n  box-shadow: 0 0 0 2px rgba(33, 150, 243, 0.1);\n}\n\n.ra-project-selector select:disabled,\n.ra-model-selector select:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n/* ============================================\n   BUTTONS\n   ============================================ */\n.ra-button {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0.5rem 1rem;\n  border: none;\n  border-radius: 0.375rem;\n  font-family: inherit;\n  font-size: 0.875rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n\n.ra-button:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.ra-button:not(:disabled):hover {\n  transform: translateY(-1px);\n}\n\n.ra-button:not(:disabled):active {\n  transform: translateY(0);\n}\n\n/* Primary Button */\n.ra-button-primary {\n  background-color: var(--button-primary-bg);\n  color: var(--button-primary-text);\n  box-shadow: var(--shadow-sm);\n}\n\n.ra-button-primary:not(:disabled):hover {\n  background-color: var(--button-primary-hover);\n  box-shadow: var(--shadow-md);\n}\n\n/* Success Button */\n.ra-button-success {\n  background-color: #4caf50;\n  color: #ffffff;\n  box-shadow: var(--shadow-sm);\n}\n\n.ra-button-success:not(:disabled):hover {\n  background-color: #43a047;\n  box-shadow: var(--shadow-md);\n}\n\n/* Secondary Button */\n.ra-button-secondary {\n  background-color: var(--button-secondary-bg);\n  color: var(--button-secondary-text);\n  box-shadow: var(--shadow-sm);\n}\n\n.ra-button-secondary:not(:disabled):hover {\n  background-color: var(--button-secondary-hover);\n  box-shadow: var(--shadow-md);\n}\n\n/* Muted Button */\n.ra-button-muted {\n  background-color: var(--button-muted-bg);\n  color: var(--button-muted-text);\n}\n\n.ra-button-muted:not(:disabled):hover {\n  background-color: var(--button-muted-hover);\n}\n\n/* ============================================\n   ANALYSIS RESULT\n   ============================================ */\n.ra-recommendation {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.75rem 1rem;\n  border-radius: 0.375rem;\n  margin-bottom: 1rem;\n  font-size: 0.875rem;\n}\n\n.ra-rec-integrate {\n  background-color: var(--status-success-bg);\n  border: 1px solid var(--status-success-border);\n  color: var(--status-success-text);\n}\n\n.ra-rec-save {\n  background-color: var(--status-warning-bg);\n  border: 1px solid var(--status-warning-border);\n  color: var(--status-warning-text);\n}\n\n.ra-rec-skip {\n  background-color: var(--status-error-bg);\n  border: 1px solid var(--status-error-border);\n  color: var(--status-error-text);\n}\n\n.ra-rec-label {\n  font-weight: 500;\n}\n\n.ra-rec-value {\n  font-weight: 600;\n}\n\n.ra-rec-confidence {\n  color: var(--text-secondary);\n  font-size: 0.8125rem;\n  margin-left: auto;\n}\n\n/* Insights */\n.ra-insights ul {\n  margin: 0;\n  padding-left: 1.25rem;\n}\n\n.ra-insights li {\n  margin-bottom: 0.375rem;\n  line-height: 1.5;\n  color: var(--text-color);\n}\n\n/* Explanation */\n.ra-explanation p {\n  margin: 0;\n  line-height: 1.6;\n  color: var(--text-secondary);\n}\n\n/* Actions */\n.ra-actions {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.625rem;\n  margin-top: 1rem;\n}\n\n/* ============================================\n   CHAT SECTION\n   ============================================ */\n.ra-chat-messages {\n  background-color: var(--hover-color);\n  border: 1px solid var(--border-color);\n  border-radius: 0.375rem;\n  padding: 0.75rem;\n  min-height: 80px;\n  max-height: 250px;\n  overflow-y: auto;\n  margin-bottom: 0.75rem;\n}\n\n.ra-chat-empty {\n  color: var(--text-secondary);\n  font-style: italic;\n  margin: 0;\n  font-size: 0.875rem;\n}\n\n.ra-chat-message {\n  margin-bottom: 0.75rem;\n  line-height: 1.5;\n}\n\n.ra-chat-message:last-child {\n  margin-bottom: 0;\n}\n\n.ra-chat-role {\n  font-weight: 600;\n  margin-right: 0.5rem;\n}\n\n.ra-chat-user .ra-chat-role {\n  color: var(--button-primary-bg);\n}\n\n.ra-chat-assistant .ra-chat-role {\n  color: #4caf50;\n}\n\n.ra-chat-content {\n  color: var(--text-color);\n}\n\n.ra-chat-loading {\n  font-style: italic;\n  color: var(--text-secondary);\n}\n\n/* Chat Form */\n.ra-chat-form {\n  display: flex;\n  gap: 0.5rem;\n  align-items: flex-end;\n}\n\n.ra-chat-input {\n  flex: 1;\n  min-width: 0;\n  padding: 0.625rem 0.75rem;\n  border: 1px solid var(--border-color);\n  border-radius: 0.375rem;\n  font-family: inherit;\n  font-size: 0.875rem;\n  line-height: 1.5;\n  background-color: var(--input-bg);\n  color: var(--text-color);\n  box-sizing: border-box;\n  resize: none;\n  transition: border-color 0.2s ease, box-shadow 0.2s ease;\n}\n\n.ra-chat-input:focus {\n  outline: none;\n  border-color: var(--button-primary-bg);\n  box-shadow: 0 0 0 2px rgba(33, 150, 243, 0.1);\n}\n\n.ra-chat-input::placeholder {\n  color: var(--text-secondary);\n}\n\n.ra-chat-input:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n/* ============================================\n   STATUS MESSAGES\n   ============================================ */\n.ra-error {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.75rem 1rem;\n  border-radius: 0.375rem;\n  margin-bottom: 1rem;\n  background-color: var(--status-error-bg);\n  border: 1px solid var(--status-error-border);\n  color: var(--status-error-text);\n  font-size: 0.875rem;\n}\n\n.ra-error button {\n  background: none;\n  border: none;\n  color: inherit;\n  cursor: pointer;\n  font-size: 0.8125rem;\n  font-weight: 500;\n  text-decoration: underline;\n  padding: 0;\n}\n\n.ra-error button:hover {\n  opacity: 0.8;\n}\n\n.ra-success {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.75rem 1rem;\n  border-radius: 0.375rem;\n  margin-bottom: 1rem;\n  background-color: var(--status-success-bg);\n  border: 1px solid var(--status-success-border);\n  color: var(--status-success-text);\n  font-size: 0.875rem;\n}\n\n.ra-success button {\n  background: none;\n  border: none;\n  color: inherit;\n  cursor: pointer;\n  font-size: 0.8125rem;\n  font-weight: 500;\n  text-decoration: underline;\n  padding: 0;\n}\n\n.ra-success button:hover {\n  opacity: 0.8;\n}\n\n/* ============================================\n   LOADING STATE\n   ============================================ */\n.ra-analyze button:disabled {\n  position: relative;\n}\n\n/* ============================================\n   SCROLLBAR STYLING (Dark Mode)\n   ============================================ */\n.research-assistant.dark-theme ::-webkit-scrollbar {\n  width: 8px;\n  height: 8px;\n}\n\n.research-assistant.dark-theme ::-webkit-scrollbar-track {\n  background: var(--bg-color);\n  border-radius: 4px;\n}\n\n.research-assistant.dark-theme ::-webkit-scrollbar-thumb {\n  background: var(--border-color);\n  border-radius: 4px;\n}\n\n.research-assistant.dark-theme ::-webkit-scrollbar-thumb:hover {\n  background: rgba(255, 255, 255, 0.2);\n}\n`,""]);const p=u}},g={};function v(e){var r=g[e];if(void 0!==r)return r.exports;var n=g[e]={id:e,exports:{}};return m[e](n,n.exports,v),n.exports}v.m=m,v.c=g,v.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return v.d(r,{a:r}),r},v.d=(e,r)=>{for(var n in r)v.o(r,n)&&!v.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},v.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),v.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{v.S={};var e={},r={};v.I=(n,t)=>{t||(t=[]);var o=r[n];if(o||(o=r[n]={}),!(t.indexOf(o)>=0)){if(t.push(o),e[n])return e[n];v.o(v.S,n)||(v.S[n]={});var a=v.S[n],s="ResearchAssistant",i=[];return"default"===n&&((e,r)=>{var n=a[e]=a[e]||{},t=n[r];(!t||!t.loaded&&(0!=!t.eager||s>t.from))&&(n[r]={get:()=>()=>v(540),from:s,eager:!0})})("react","18.3.1"),e[n]=i.length?Promise.all(i).then(()=>e[n]=1):1}}})(),e=e=>{var r=e=>e.split(".").map(e=>+e==e?+e:e),n=/^([^-+]+)?(?:-([^+]+))?(?:\+(.+))?$/.exec(e),t=n[1]?r(n[1]):[];return n[2]&&(t.length++,t.push.apply(t,r(n[2]))),n[3]&&(t.push([]),t.push.apply(t,r(n[3]))),t},r=(r,n)=>{r=e(r),n=e(n);for(var t=0;;){if(t>=r.length)return t<n.length&&"u"!=(typeof n[t])[0];var o=r[t],a=(typeof o)[0];if(t>=n.length)return"u"==a;var s=n[t],i=(typeof s)[0];if(a!=i)return"o"==a&&"n"==i||"s"==i||"u"==a;if("o"!=a&&"u"!=a&&o!=s)return o<s;t++}},n=e=>{var r=e[0],t="";if(1===e.length)return"*";if(r+.5){t+=0==r?">=":-1==r?"<":1==r?"^":2==r?"~":r>0?"=":"!=";for(var o=1,a=1;a<e.length;a++)o--,t+="u"==(typeof(i=e[a]))[0]?"-":(o>0?".":"")+(o=2,i);return t}var s=[];for(a=1;a<e.length;a++){var i=e[a];s.push(0===i?"not("+c()+")":1===i?"("+c()+" || "+c()+")":2===i?s.pop()+" "+s.pop():n(i))}return c();function c(){return s.pop().replace(/^\((.+)\)$/,"$1")}},t=(r,n)=>{if(0 in r){n=e(n);var o=r[0],a=o<0;a&&(o=-o-1);for(var s=0,i=1,c=!0;;i++,s++){var l,u,d=i<r.length?(typeof r[i])[0]:"";if(s>=n.length||"o"==(u=(typeof(l=n[s]))[0]))return!c||("u"==d?i>o&&!a:""==d!=a);if("u"==u){if(!c||"u"!=d)return!1}else if(c)if(d==u)if(i<=o){if(l!=r[i])return!1}else{if(a?l>r[i]:l<r[i])return!1;l!=r[i]&&(c=!1)}else if("s"!=d&&"n"!=d){if(a||i<=o)return!1;c=!1,i--}else{if(i<=o||u<d!=a)return!1;c=!1}else"s"!=d&&"n"!=d&&(c=!1,i--)}}var p=[],h=p.pop.bind(p);for(s=1;s<r.length;s++){var f=r[s];p.push(1==f?h()|h():2==f?h()&h():f?t(f,n):!h())}return!!h()},o=(e,r)=>e&&v.o(e,r),a=e=>(e.loaded=1,e.get()),s=e=>Object.keys(e).reduce((r,n)=>(e[n].eager&&(r[n]=e[n]),r),{}),i=(e,n,t)=>{var o=t?s(e[n]):e[n];return Object.keys(o).reduce((e,n)=>!e||!o[e].loaded&&r(e,n)?n:e,0)},c=(e,r,t,o)=>"Unsatisfied version "+t+" from "+(t&&e[r][t].from)+" of shared singleton module "+r+" (required "+n(o)+")",l=e=>{throw new Error(e)},u=e=>{"undefined"!=typeof console&&console.warn&&console.warn(e)},d=(e,r,n)=>n?n():((e,r)=>l("Shared module "+r+" doesn't exist in shared scope "+e))(e,r),p=(e=>function(r,n,t,o,a){var s=v.I(r);return s&&s.then&&!t?s.then(e.bind(e,r,v.S[r],n,!1,o,a)):e(r,v.S[r],n,t,o,a)})((e,r,n,s,l,p)=>{if(!o(r,n))return d(e,n,p);var h=i(r,n,s);return t(l,h)||u(c(r,n,h,l)),a(r[n][h])}),h={},f={769:()=>p("default","react",!0,[1,18,2,0],()=>()=>v(540))},[769].forEach(e=>{v.m[e]=r=>{h[e]=0,delete v.c[e];var n=f[e]();if("function"!=typeof n)throw new Error("Shared module is not available for eager consumption: "+e);r.exports=n()}}),v.b=document.baseURI||self.location.href,v.nc=void 0;var b=v(630);ResearchAssistant=b})();